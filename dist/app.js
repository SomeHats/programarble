webpackJsonp([1],[function(e,t,n){n(395),e.exports=n(593)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.palette=t.PORT_SEP=t.PAD=t.WALL_SIZE=t.MARBLE_RADIUS=t.GEOM_SCALE=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(41),i=t.GEOM_SCALE=1,c=(t.MARBLE_RADIUS=15*i,t.WALL_SIZE=5*i,t.PAD=1*i,t.PORT_SEP=(0,u.degrees)(45),t.palette={turquoise:1752220,green:3066993,blue:3447003,purple:10181046,black:3426654,yellow:15844367,orange:15105570,red:15158332,white:15528177,grey:9807270,darkTurquoise:1482885,darkGreen:2600544,darkBlue:2719929,darkPurple:9323693,darkBlack:2899536,darkYellow:15965202,darkOrange:13849600,darkRed:12597547,darkWhite:12436423,darkGrey:8359053});c.str=Object.entries(c).reduce(function(e,t){var n=a(t,2),u=n[0],i=n[1];return o({},e,r({},u,"#"+i.toString(16)))},{})},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(41),a=function(e){return function(){return e}},u=Symbol("Component.Common"),i={registered:{},create:function(e,t){var n=Symbol("Component("+e+")"),c=t.afterAdd||a(),l=t.beforeRemove||a(),f=t.updateFromStore||a(),d=Object.assign({},t,{name:e,componentId:n,instances:[],initialState:t.initialState||function(){return{}},create:function(e){var r=d.initialState(e),o=t.create(e,r);return o.id=t.id||o.id,o[n]=r,o[u]={x:e.x,y:e.y},d.setPosition(o,e.x,e.y),o},getState:function(e){return e[n]},afterAdd:function(e){d.instances.push(e),c.apply(this,arguments)},beforeRemove:function(e){(0,o.remove)(d.instances,e),l.apply(this,arguments)},setPosition:function(e,t,n){var o=e[u],a={x:t-o.x,y:n-o.y};"body"===e.type?r.Body.translate(e,a):"composite"===e.type&&r.Composite.translate(e,a),o.x=t,o.y=n},updateFromStore:function(e,t){d.setPosition(e,t.x,t.y),f(e,t)}});return i.registered[n]=i.registered[e]=d,d},get:function(e){if(!i.registered[e])throw new Error("Component "+e.toString()+" not found");return i.registered[e]}};t["default"]=i},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mirror=t.toPath=t.degrees=t.remove=t.hasOwnProperty=void 0;var o=n(680),a=r(o),u=(t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.remove=function(e,t){var n=e.indexOf(t);if(n!==-1)return e.splice(n,1)[0]},t.degrees=function(e){return e*(Math.PI/180)},t.toPath=function(e){return(0,a["default"])(e,function(e){var t=e.x,n=e.y;return[t,n]})},{x:"y",y:"x"});t.mirror=function(e,t){return t.concat(t.map(function(t){var n={x:t.x,y:t.y};return n[u[e]]*=-1,n}).reverse())}},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.RoundedRectangle=t.Rectangle=t.Polygon=t.Ellipse=t.Circle=t.BezierCurve=t.Arc=t.Graphics=void 0;var o=n(367);Object.defineProperty(t,"Graphics",{enumerable:!0,get:function(){return r(o)["default"]}});var a=n(18),u=n(368),i=r(u),c=n(41),l=function(e,t,n){return a.Vector.add(e,a.Vector.rotate(n,t))},f=function(e,t,n){return n.map(function(n){return l(e,t,n)})};t.Arc=(0,i["default"])("Arc",function(e,t){var n=t.cx,r=t.cy,o=t.radius,a=t.startAngle,u=t.endAngle,i=t.antiClockwise,c=t.x1,l=t.y1,f=t.x2,d=t.y2;if(null!=n&&null!=r&&null!=o&&null!=a&&null!=u)e.arc(n,r,o,a,u,i);else{if(null==c||null==f||null==l||null==d||null==o)throw new Error("Arc must be given props matching either Pixi Graphics arc or arcTo");e.arcTo(c,l,f,d,o)}}),t.BezierCurve=(0,i["default"])("BezierCurve",function(e,t){var n=t.cpX,r=t.cpY,o=t.cpX2,a=t.cpY2,u=t.toX,i=t.toY;return e.BezierCurveTo(n,r,o,a,u,i)}),t.Circle=(0,i["default"])("Circle",function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,a=void 0===o?0:o,u=t.radius;return e.drawCircle(r,a,u)}),t.Ellipse=(0,i["default"])("Ellipse",function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,a=void 0===o?0:o,u=t.width,i=t.height;return e.drawEllipse(r,a,u,i)}),t.Polygon=(0,i["default"])("Polygon",function(e,t){var n=t.path;return e.drawPolygon(n)}),t.Rectangle=(0,i["default"])("Rectangle",function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,a=void 0===o?0:o,u=t.width,i=t.height;return e.drawRect(r,a,u,i)}),t.RoundedRectangle=(0,i["default"])("RoundedRectangle",function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,a=void 0===o?0:o,u=t.width,i=t.height,c=t.radius;return e.drawRoundedRect(r,a,u,i,c)}),t.Arrow=(0,i["default"])("Arrow",function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,a=void 0===o?0:o,u=t.angle,i=void 0===u?0:u,l=t.width,d=t.height,s=t.depth,p=void 0===s?0:s;return e.drawPolygon((0,c.toPath)(f({x:r,y:a},i,[{x:0,y:d/2},{x:-l/2,y:-d/2},{x:0,y:-(d/2)-p},{x:l/2,y:-d/2}])))})},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(33),u=r(a),i=n(23),c=n(41),l=u["default"].create("Input.Sensor",{width:2*(i.MARBLE_RADIUS+i.PAD),height:i.WALL_SIZE,create:function(e){var t=e.x,n=e.y;return o.Bodies.rectangle(t,n,l.width,l.height,{isSensor:!0})},collisions:{Marble:{start:function(e,t,n){f.getState(e.parent).waiting.push(n)},end:function(e,t,n){(0,c.remove)(f.getState(e.parent).waiting,n)}}}}),f=u["default"].create("Input",{width:2*(i.MARBLE_RADIUS+i.WALL_SIZE+i.PAD),height:2*(i.WALL_SIZE+i.MARBLE_RADIUS),initialState:function(e){var t=e.rate,n=void 0===t?100:t;return{rate:n,waiting:[]}},create:function(e){var t=e.x,n=e.y,r=e.isStatic,a=e.angle,u=void 0===a?0:a,c=o.Body.create({isStatic:r,parts:[o.Bodies.rectangle(t+i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD,n,i.WALL_SIZE,f.height-i.WALL_SIZE),o.Bodies.rectangle(t-(i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD),n,i.WALL_SIZE,f.height-i.WALL_SIZE,{render:{fillStyle:"red"}}),o.Bodies.rectangle(t,n+i.MARBLE_RADIUS+i.WALL_SIZE,f.width,i.WALL_SIZE),l.create({x:t,y:n+i.MARBLE_RADIUS})]});return o.Body.rotate(c,u),c},afterAdd:function(e,t,n){t.game=n,t.lastConsumed=n.engine.timing.timestamp},canConsume:function(e){var t=f.getState(e),n=t.lastConsumed,r=t.rate,o=t.waiting,a=t.game,u=a.engine.timing.timestamp;return u-n>r&&o.length},consume:function(e){var t=f.getState(e),n=t.game,r=n.world,a=n.engine,u=t.waiting.shift();return o.World.remove(r,u),t.lastConsumed=a.timing.timestamp,u}});t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(33),u=r(a),i=n(84),c=r(i),l=n(23),f=u["default"].create("Output.Sensor",{width:2*(l.MARBLE_RADIUS+l.PAD),height:2*l.MARBLE_RADIUS,create:function(e){var t=e.x,n=e.y;return o.Bodies.rectangle(t,n,f.width,f.height,{isSensor:!0})},collisions:{Marble:{start:function(e){d.getState(e.parent).blockers+=1},end:function(e){d.getState(e.parent).blockers-=1}}}}),d=u["default"].create("Output",{width:2*(l.MARBLE_RADIUS+l.WALL_SIZE+l.PAD),height:l.WALL_SIZE+2*l.MARBLE_RADIUS,initialState:function(e){var t=e.rate,n=void 0===t?500:t;return{rate:n,blockers:0}},create:function(e){var t=e.x,n=e.y,r=e.isStatic,a=e.angle,u=void 0===a?0:a,i=o.Body.create({isStatic:r,parts:[o.Bodies.rectangle(t+l.MARBLE_RADIUS+l.WALL_SIZE/2+l.PAD,n,l.WALL_SIZE,2*l.MARBLE_RADIUS),o.Bodies.rectangle(t-(l.MARBLE_RADIUS+l.WALL_SIZE/2+l.PAD),n,l.WALL_SIZE,2*l.MARBLE_RADIUS),o.Bodies.rectangle(t,n-(l.MARBLE_RADIUS+l.WALL_SIZE/2),d.width,l.WALL_SIZE),f.create({x:t,y:n})]});return o.Body.rotate(i,u),i},afterAdd:function(e,t,n){t.game=n,t.lastProduced=n.engine.timing.timestamp},canProduce:function(e){var t=d.getState(e),n=t.lastProduced,r=t.rate,o=t.blockers,a=t.game,u=a.engine.timing.timestamp;return u-n>r&&!o},produce:function(e,t){var n=d.getState(e),r=n.game,a=r.world,u=r.engine;o.World.add(a,c["default"].create({x:e.position.x,y:e.position.y,value:t})),n.lastProduced=u.timing.timestamp}});t["default"]=d},,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(23),u=n(33),i=r(u),c=i["default"].create("Marble",{initialState:function(e){var t=e.value;return{value:t}},create:function(e){var t=e.x,n=e.y;return o.Bodies.circle(t,n,a.MARBLE_RADIUS,{force:{x:o.Common.random(-.001,.001),y:o.Common.random(-.001,.001)},friction:.1})},getValue:function(e){return c.getState(e).value},setValue:function(e,t){return c.getState(e).value=t,t},afterUpdate:function(e,t,n){var r=n.bounds,a=n.world;o.Bounds.overlaps(r,e.bounds)||o.World.remove(a,e)}});t["default"]=c},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectMachine=t.moveMachine=t.deleteMachine=t.addMachine=void 0;var a=n(693),u=o(a),i=n(225),c=r(i);t.addMachine=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]||arguments[4];return{type:c.MACHINES.ADD,machineType:e,id:(0,u["default"])(e),x:t,y:n,props:r,select:o}},t.deleteMachine=function(e){return{type:c.MACHINES.DELETE,id:e}},t.moveMachine=function(e,t,n){return{type:c.MACHINES.MOVE,id:e,x:t,y:n}},t.selectMachine=function(e){return{type:c.MACHINES.SELECT,id:e}}},,,,,,,,,,,,,function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(652),a=n(653),u=n(654),i=n(655),c=n(656);r.prototype.clear=o,r.prototype["delete"]=a,r.prototype.get=u,r.prototype.has=i,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(181);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(649);e.exports=r},function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!u.test(e)||null!=t&&e in Object(t))}var o=n(51),a=n(129),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=r},function(e,t,n){var r=n(79),o=r(Object,"create");e.exports=o},function(e,t,n){function r(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var o=n(129),a=1/0;e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(79),o=n(61),a=r(o,"Map");e.exports=a},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(657),a=n(658),u=n(659),i=n(660),c=n(661);r.prototype.clear=o,r.prototype["delete"]=a,r.prototype.get=u,r.prototype.has=i,r.prototype.set=c,e.exports=r},function(e,t,n){var r=n(61),o=r.Symbol;e.exports=o},,function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MACHINES={ADD:"MACHINES:ADD",DELETE:"MACHINES:DELETE",MOVE:"MACHINES:MOVE",SELECT:"MACHINES:SELECT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.className,n=e.block,r=e.danger,a=o(e,["className","block","danger"]);return c["default"].createElement("button",u({className:(0,f["default"])("Button",t,{Button_block:n,Button_danger:r})},a))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var i=n(10),c=r(i),l=n(149),f=r(l);a.propTypes={className:c["default"].PropTypes.string,block:c["default"].PropTypes.bool,danger:c["default"].PropTypes.bool}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.multiply=function(e,t){return e*t},t.divide=function(e,t){return e/t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isEven=function(e){return e%2===0},t.isOdd=function(e){return e%2===1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(123),a=n(673),u=n(674),i=n(675),c=n(676),l=n(677);r.prototype.clear=a,r.prototype["delete"]=u,r.prototype.get=i,r.prototype.has=c,r.prototype.set=l,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e,t,n,u,i){var c=-1,l=e.length;for(n||(n=a),i||(i=[]);++c<l;){var f=e[c];t>0&&n(f)?t>1?r(f,t-1,n,u,i):o(i,f):u||(i[i.length]=f)}return i}var o=n(606),a=n(647);e.exports=r},function(e,t,n){function r(e,t){t=a(t,e)?[t]:o(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[u(t[n++])];return n&&n==r?e:void 0}var o=n(266),a=n(126),u=n(128);e.exports=r},function(e,t,n){function r(e,t,n,i,c){return e===t||(null==e||null==t||!a(e)&&!u(t)?e!==e&&t!==t:o(e,t,r,n,i,c))}var o=n(614),a=n(90),u=n(98);e.exports=r},function(e,t){function n(e,t){return e+r(o()*(t-e+1))}var r=Math.floor,o=Math.random;e.exports=n},function(e,t,n){function r(e){return o(e)?e:a(e)}var o=n(51),a=n(678);e.exports=r},function(e,t,n){function r(e,t,n,r,l,f){var d=l&c,s=e.length,p=t.length;if(s!=p&&!(d&&p>s))return!1;var h=f.get(e);if(h&&f.get(t))return h==t;var y=-1,v=!0,_=l&i?new o:void 0;for(f.set(e,t),f.set(t,e);++y<s;){var b=e[y],g=t[y];if(r)var m=d?r(g,b,y,t,e,f):r(b,g,y,e,t,f);if(void 0!==m){if(m)continue;v=!1;break}if(_){if(!a(t,function(e,t){if(!u(_,t)&&(b===e||n(b,e,r,l,f)))return _.push(t)})){v=!1;break}}else if(b!==g&&!n(b,g,r,l,f)){v=!1;break}}return f["delete"](e),f["delete"](t),v}var o=n(600),a=n(608),u=n(631),i=1,c=2;e.exports=r},,function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(90);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},,,,,,,function(e,t,n){function r(e){return null==e?"":o(e)}var o=n(628);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(10),l=r(c),f=n(365),d=r(f),s=n(383),p=r(s),h=n(382),y=r(h),v=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.updateSize=function(){var e=window.innerWidth,t=window.innerHeight,n=Math.max(Math.round(.2*e),300),o=e-n;r.setState({width:e,height:t,controlsWidth:n,gameWidth:o}),r.props.game.setSize(o,t)},u=n,a(r,u)}return u(t,e),i(t,[{key:"getChildContext",value:function(){return{game:this.props.game}}},{key:"componentWillMount",value:function(){this.updateSize(),window.addEventListener("resize",this.updateSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSize)}},{key:"render",value:function(){var e=this.props,t=e.game,n=e.debug,r=this.state,o=r.controlsWidth,a=r.gameWidth,u=r.height;return l["default"].createElement("div",{className:"App"},l["default"].createElement(p["default"],{width:a,height:u}),l["default"].createElement(d["default"],{width:o}),n&&l["default"].createElement(y["default"],{engine:t.engine,width:a,height:u}))}}]),t}(l["default"].Component);v.propTypes={game:l["default"].PropTypes.object.isRequired,debug:l["default"].PropTypes.bool},v.childContextTypes={game:l["default"].PropTypes.object.isRequired},t["default"]=v},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.onBlockAdd,n=e.onClonerAdd,r=e.onCombinerAdd,o=e.onDestinationAdd,a=e.onSeparatorAdd,u=e.onSourceAdd;return i["default"].createElement("div",{className:"AddButtons"},i["default"].createElement(y["default"],{block:!0,onClick:t},"Add Block"),i["default"].createElement(y["default"],{block:!0,onClick:n},"Add Cloner"),i["default"].createElement(y["default"],{block:!0,onClick:r},"Add Combiner"),i["default"].createElement(y["default"],{block:!0,onClick:o},"Add Destination"),i["default"].createElement(y["default"],{block:!0,onClick:a},"Add Separator"),i["default"].createElement(y["default"],{block:!0,onClick:u},"Add Source"))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),i=o(u),c=n(65),l=n(690),f=o(l),d=n(689),s=o(d),p=n(110),h=n(226),y=o(h),v=n(228),_=r(v),b=n(227),g=r(b);a.propTypes={onBlockAdd:i["default"].PropTypes.func.isRequired,onClonerAdd:i["default"].PropTypes.func.isRequired,onCombinerAdd:i["default"].PropTypes.func.isRequired,onDestinationAdd:i["default"].PropTypes.func.isRequired,onSeparatorAdd:i["default"].PropTypes.func.isRequired,onSourceAdd:i["default"].PropTypes.func.isRequired};var m=function(){return(0,s["default"])(100,600)},A={onBlockAdd:function(){return(0,p.addMachine)("Block",m(),m(),{width:(0,s["default"])(10,100),height:(0,s["default"])(10,100)})},onClonerAdd:function(){return(0,p.addMachine)("Cloner",m(),m())},onCombinerAdd:function(){return(0,p.addMachine)("Combiner",m(),m(),{operation:(0,f["default"])(Object.keys(g))})},onDestinationAdd:function(){return(0,p.addMachine)("Destination",m(),m())},onSeparatorAdd:function(){return(0,p.addMachine)("Separator",m(),m(),{condition:(0,f["default"])(Object.keys(_))})},onSourceAdd:function(){return(0,p.addMachine)("Source",m(),m())}};t["default"]=(0,c.connect)(null,A)(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.width,n=e.settingsActive;return u["default"].createElement("div",{className:(0,l["default"])("Controls",{Controls_settingsActive:n}),style:{width:t+"px"}},u["default"].createElement("div",{className:"Controls-main"},u["default"].createElement("h2",null,"Programarble???"),u["default"].createElement(d["default"],null)),u["default"].createElement("div",{className:"Controls-settings"},u["default"].createElement(p["default"],null)))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),u=r(a),i=n(65),c=n(149),l=r(c),f=n(364),d=r(f),s=n(366),p=r(s);o.propTypes={width:u["default"].PropTypes.number.isRequired,settingsActive:u["default"].PropTypes.bool.isRequired};var h=function(e){return{settingsActive:e.get("game").get("selectionActive")}};t["default"]=(0,i.connect)(h)(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.machine,n=e.onDeselect,r=e.onDelete;return u["default"].createElement("div",{className:"MachineSettings"},u["default"].createElement("div",{className:"MachineSettings-header"},u["default"].createElement(s["default"],{className:"MachineSettings-header-back",onClick:n},"Back"),u["default"].createElement("h2",null,t&&t.get("type"))),t&&u["default"].createElement("div",{className:"MachineSettings-footer"},u["default"].createElement(s["default"],{danger:!0,block:!0,onClick:function(){return r(t.get("id"))}},"Delete"),u["default"].createElement("div",{className:"MachineSettings-debug"},u["default"].createElement("pre",null,JSON.stringify(t,null,2)))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),u=r(a),i=n(65),c=n(131),l=r(c),f=n(110),d=n(226),s=r(d);o.propTypes={machine:l["default"].map,onDeselect:u["default"].PropTypes.func.isRequired,onDelete:u["default"].PropTypes.func.isRequired};var p=function(e){var t=e.get("game"),n=t.get("selectedMachine");return{machine:t.get("machinesById").get(n,null)}},h={onDeselect:function(){return(0,f.selectMachine)(null)},onDelete:f.deleteMachine};t["default"]=(0,i.connect)(p,h)(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(10),d=r(f),s=n(147),p=r(s),h=n(52),y=!0,v=function(e){function t(){var e,n,r,o;a(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r.mountGraphics=function(e){e&&e.addChild(r.graphics)},o=n,u(r,o)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.graphics=new p["default"].Graphics,this.draw(this.graphics)}},{key:"draw",value:function(){var e=this;if(this.graphics.clear(),d["default"].Children.toArray(this.props.children).forEach(function(t){return t.type.draw(e.graphics,t.props)}),!this.raw()){var t=this.graphics.getBounds();this.setState({texture:this.graphics.generateTexture(),bounds:t})}}},{key:"raw",value:function(){return null!=this.props.raw?this.props.raw:y}},{key:"render",value:function(){var e=this.state,t=e.texture,n=e.bounds,r=this.props,a=r.x,u=void 0===a?0:a,i=r.y,l=void 0===i?0:i,f=(r.children,o(r,["x","y","children"]));return this.raw()?d["default"].createElement(h.DisplayObjectContainer,c({ref:this.mountGraphics,x:u,y:l},f)):d["default"].createElement(h.Sprite,c({texture:t,x:u+n.x,y:l+n.y},f))}}]),t}(d["default"].Component);v.propTypes={children:d["default"].PropTypes.node.isRequired,x:d["default"].PropTypes.number,y:d["default"].PropTypes.number,raw:d["default"].PropTypes.bool},t["default"]=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return function(t,n){t.lineWidth=n.lineWidth||0,t.lineColor=n.lineColor||0,t.lineAlpha=null!=n.lineAlpha?n.lineAlpha:1;var r=null!=n.fill;r&&t.beginFill(n.fill,n.alpha),e(t,n),r&&t.endFill()}};t["default"]=function(e,t){var r=function(){throw new Error("Graphics."+t+" can only be used as the direct child of <Graphics />")};return r.draw=n(t),r.displayName=e,r}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y,r=e.width,o=e.height;return i["default"].createElement(l.Graphics,{x:t,y:n},i["default"].createElement(l.Rectangle,{fill:f.palette.black,lineColor:f.palette.darkWhite,lineWidth:2,x:-r/2,y:-o/2,width:r,height:o}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(55),l=r(c),f=n(23);a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired,width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y;return i["default"].createElement(s.Graphics,{x:t,y:n},i["default"].createElement(s.Polygon,{lineColor:l.palette.blue,lineWidth:2,fill:l.palette.black,path:E}),i["default"].createElement(s.Arrow,{fill:l.palette.blue,y:-l.MARBLE_RADIUS-l.WALL_SIZE,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS}),i["default"].createElement(s.Arrow,{fill:l.palette.blue,x:_,y:b,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS,angle:-(l.PORT_SEP/2)}),i["default"].createElement(s.Arrow,{fill:l.palette.blue,x:-_,y:b,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS,angle:l.PORT_SEP/2}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(18),l=n(23),f=n(41),d=n(55),s=r(d),p=n(69),h=o(p),y=n(68),v=o(y),_=h["default"].width/2,b=h["default"].height/2,g=0,m={x:_,y:b},A=function(e){return c.Vector.add(m,c.Vector.rotate(e,-(l.PORT_SEP/2)))},E=(0,f.toPath)((0,f.mirror)("y",[{x:g,y:l.WALL_SIZE-v["default"].height},{x:g+v["default"].width/2,y:-v["default"].height},{x:l.MARBLE_RADIUS+l.WALL_SIZE/2,y:-l.MARBLE_RADIUS},A({x:l.MARBLE_RADIUS+2*l.PAD,y:-l.MARBLE_RADIUS}),A({x:l.MARBLE_RADIUS+2*l.PAD,y:l.MARBLE_RADIUS-2*l.WALL_SIZE}),A({x:l.MARBLE_RADIUS+l.PAD+l.WALL_SIZE,y:l.MARBLE_RADIUS}),A({x:-(l.MARBLE_RADIUS+l.PAD+l.WALL_SIZE),y:l.MARBLE_RADIUS}),A({x:-(l.MARBLE_RADIUS+2*l.PAD),y:l.MARBLE_RADIUS-2*l.WALL_SIZE}),{x:.1,y:l.MARBLE_RADIUS}]));a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y,r=e.operation;return i["default"].createElement(c.DisplayObjectContainer,{x:t,y:n},i["default"].createElement(p.Graphics,null,i["default"].createElement(p.Polygon,{lineColor:f.palette.yellow,lineWidth:2,fill:f.palette.black,path:P}),i["default"].createElement(p.Arrow,{fill:f.palette.yellow,y:y["default"].height/2,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS}),i["default"].createElement(p.Arrow,{fill:f.palette.blue,x:b,y:g,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS,angle:f.PORT_SEP/2}),i["default"].createElement(p.Arrow,{fill:f.palette.blue,x:-b,y:g,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS,angle:-(f.PORT_SEP/2)})),i["default"].createElement(c.Text,{text:x[r],style:M,anchor:w,y:-f.WALL_SIZE}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(52),l=n(18),f=n(23),d=n(41),s=n(55),p=r(s),h=n(69),y=o(h),v=n(68),_=o(v),b=(_["default"].width+f.WALL_SIZE+f.PAD)/2,g=-(_["default"].height/2),m={x:b,y:g},A=function(e){return l.Vector.add(m,l.Vector.rotate(e,f.PORT_SEP/2))},E=-(f.MARBLE_RADIUS+f.WALL_SIZE),S=y["default"].height-f.WALL_SIZE/2,P=(0,d.toPath)((0,d.mirror)("y",[A({x:-(f.MARBLE_RADIUS+f.WALL_SIZE/2),y:f.WALL_SIZE}),A({x:-(f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE),y:E}),A({x:0,y:E+f.WALL_SIZE}),A({x:f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,y:E}),A({x:f.MARBLE_RADIUS+f.WALL_SIZE/2,y:f.WALL_SIZE}),A({x:f.MARBLE_RADIUS+f.WALL_SIZE/2,y:f.MARBLE_RADIUS+f.WALL_SIZE}),{x:f.MARBLE_RADIUS+f.PAD,y:f.MARBLE_RADIUS},{x:f.MARBLE_RADIUS+f.PAD,y:S-2*f.WALL_SIZE},{x:f.MARBLE_RADIUS+f.WALL_SIZE+f.PAD,y:S}])),x={add:"+",subtract:"-",multiply:"×",divide:"÷"},M={font:"28px 'Source Code Pro'",fill:f.palette.str.yellow},w={x:.5,y:.5};a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired,operation:i["default"].PropTypes.oneOf(Object.keys(x)).isRequired}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y;return i["default"].createElement(l.Graphics,{x:t,y:n},i["default"].createElement(l.Polygon,{fill:f.palette.black,lineColor:f.palette.blue,lineWidth:2,path:p}),i["default"].createElement(l.Circle,{radius:6,fill:f.palette.red}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(55),l=r(c),f=n(23),d=n(41),s=-(f.MARBLE_RADIUS+f.WALL_SIZE/2),p=(0,d.toPath)((0,d.mirror)("y",[{x:f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,y:s},{x:f.MARBLE_RADIUS+2*f.PAD,y:s+2*f.WALL_SIZE},{x:f.MARBLE_RADIUS+2*f.PAD,y:-s}]));a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y;return i["default"].createElement(s.Graphics,{x:t,y:n},i["default"].createElement(s.Polygon,{lineColor:l.palette.purple,lineWidth:2,fill:l.palette.black,path:E}),i["default"].createElement(s.Arrow,{fill:l.palette.purple,y:-l.MARBLE_RADIUS-l.WALL_SIZE,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS}),i["default"].createElement(s.Arrow,{fill:l.palette.green,x:_,y:b,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS,angle:-(l.PORT_SEP/2)}),i["default"].createElement(s.Arrow,{fill:l.palette.red,x:-_,y:b,width:2*l.WALL_SIZE,height:l.MARBLE_RADIUS,angle:l.PORT_SEP/2}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(18),l=n(23),f=n(41),d=n(55),s=r(d),p=n(69),h=o(p),y=n(68),v=o(y),_=h["default"].width/2,b=h["default"].height/2,g=0,m={x:_,y:b},A=function(e){return c.Vector.add(m,c.Vector.rotate(e,-(l.PORT_SEP/2)))},E=(0,f.toPath)((0,f.mirror)("y",[{x:g,y:l.WALL_SIZE-v["default"].height},{x:g+v["default"].width/2,y:-v["default"].height},{x:l.MARBLE_RADIUS+l.WALL_SIZE/2,y:-l.MARBLE_RADIUS},A({x:l.MARBLE_RADIUS+2*l.PAD,y:-l.MARBLE_RADIUS}),A({x:l.MARBLE_RADIUS+2*l.PAD,y:l.MARBLE_RADIUS-2*l.WALL_SIZE}),A({x:l.MARBLE_RADIUS+l.PAD+l.WALL_SIZE,y:l.MARBLE_RADIUS}),A({x:-(l.MARBLE_RADIUS+l.PAD+l.WALL_SIZE),y:l.MARBLE_RADIUS}),A({x:-(l.MARBLE_RADIUS+2*l.PAD),y:l.MARBLE_RADIUS-2*l.WALL_SIZE}),{x:.1,y:l.MARBLE_RADIUS}]));a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y;return i["default"].createElement(l.Graphics,{x:t,y:n},i["default"].createElement(l.Polygon,{path:_,fill:f.palette.black,lineColor:f.palette.blue,
lineWidth:2}),i["default"].createElement(l.Arrow,{fill:f.palette.green,height:f.MARBLE_RADIUS,width:2*f.WALL_SIZE}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=n(10),i=o(u),c=n(55),l=r(c),f=n(23),d=n(41),s=f.MARBLE_RADIUS,p=-(f.MARBLE_RADIUS+f.WALL_SIZE),h=f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,y=f.MARBLE_RADIUS+f.PAD,v=f.MARBLE_RADIUS-2*f.WALL_SIZE,_=(0,d.toPath)((0,d.mirror)("y",[{x:0,y:p},{x:y,y:p+f.WALL_SIZE},{x:y,y:v},{x:h,y:s}]));a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(369);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return r(o)["default"]}});var a=n(370);Object.defineProperty(t,"Cloner",{enumerable:!0,get:function(){return r(a)["default"]}});var u=n(371);Object.defineProperty(t,"Combiner",{enumerable:!0,get:function(){return r(u)["default"]}});var i=n(372);Object.defineProperty(t,"Destination",{enumerable:!0,get:function(){return r(i)["default"]}});var c=n(374);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r(c)["default"]}});var l=n(373);Object.defineProperty(t,"Separator",{enumerable:!0,get:function(){return r(l)["default"]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(10),l=r(c),f=n(52),d=n(18),s=5,p=function(){},h=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={dragging:!1},r.handlePointerDown=function(e){r.interaction||(r.interaction=e.data,r.startPosition=e.data.global.clone(),r.dragging=!1)},r.handlePointerMove=function(e){e.data===r.interaction&&(!r.dragging&&d.Vector.magnitudeSquared(d.Vector.sub(r.startPosition,e.data.global))>s&&(r.dragging=!0,r.props.onDragStart(r.startPosition)),r.dragging&&r.props.onDrag(e.data.global))},r.handlePointerUp=function(e){e.data===r.interaction&&(r.interaction=null,r.dragging?(r.props.onDrag(e.data.global),r.props.onDragStop(e.data.global)):r.props.onClick(e.data.global))},u=n,a(r,u)}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props.children;return l["default"].createElement(f.DisplayObjectContainer,{interactive:!0,mousedown:this.handlePointerDown,touchstart:this.handlePointerDown,mouseup:this.handlePointerUp,mouseupoutside:this.handlePointerUp,touchend:this.handlePointerUp,touchendoutside:this.handlePointerUp,mousemove:this.handlePointerMove,touchmove:this.handlePointerMove},e)}}]),t}(l["default"].Component);h.propTypes={onDragStart:l["default"].PropTypes.func,onDrag:l["default"].PropTypes.func,onDragStop:l["default"].PropTypes.func,onClick:l["default"].PropTypes.func,children:l["default"].PropTypes.node.isRequired},h.defaultProps={onDragStart:p,onDrag:p,onDragStop:p,onClick:p},t["default"]=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.machine,n=t.get("type"),r=p[n];return r?i["default"].createElement(r,t.toObject()):i["default"].createElement(l.Text,{text:"Machine "+n+" not found"})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),i=o(u),c=n(65),l=n(52),f=n(131),d=o(f),s=n(375),p=r(s);a.propTypes={machine:d["default"].map.isRequired};var h=function(e,t){var n=t.machineId;return{machine:e.get("game").get("machinesById").get(n)}};t["default"]=(0,c.connect)(h)(a)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(10),f=o(l),d=n(65),s=n(110),p=n(55),h=r(p),y=n(376),v=o(y),_=function(e){function t(){var e,n,r,o;a(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.handleClick=function(){r.props.onSelectMachine(r.props.selected?null:r.props.machineId)},r.handleDragStart=function(e){var t=e.x,n=e.y;r.startX=t,r.startY=n,r.startMachineX=r.props.x,r.startMachineY=r.props.y,r.props.selectionActive&&!r.props.selected&&r.props.onSelectMachine(r.props.machineId)},r.handleDrag=function(e){var t=e.x,n=e.y,o=r.startMachineX+(t-r.startX),a=r.startMachineY+(n-r.startY);r.props.onMoveMachine(r.props.machineId,o,a)},o=n,u(r,o)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.selected,r=e.x,o=e.y;return f["default"].createElement(v["default"],{onClick:this.handleClick,onDragStart:this.handleDragStart,onDrag:this.handleDrag},t,n&&f["default"].createElement(h.Graphics,{x:r,y:o},f["default"].createElement(h.Circle,{lineColor:16777215,lineAlpha:.2,lineWidth:15,radius:50})))}}]),t}(f["default"].Component);_.propTypes={children:f["default"].PropTypes.node.isRequired,machineId:f["default"].PropTypes.string.isRequired,onMoveMachine:f["default"].PropTypes.func.isRequired,onSelectMachine:f["default"].PropTypes.func.isRequired,selected:f["default"].PropTypes.bool.isRequired,selectionActive:f["default"].PropTypes.bool.isRequired,x:f["default"].PropTypes.number.isRequired,y:f["default"].PropTypes.number.isRequired};var b=function(e,t){var n=t.machineId,r=e.get("game"),o=r.get("machinesById").get(n);return{x:o.get("x"),y:o.get("y"),selected:n===r.get("selectedMachine")&&r.get("selectionActive"),selectionActive:r.get("selectionActive")}},g={onMoveMachine:s.moveMachine,onSelectMachine:s.selectMachine};t["default"]=(0,d.connect)(b,g)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.machines;return u["default"].createElement(c.DisplayObjectContainer,null,t.map(function(e){return u["default"].createElement(h["default"],{key:e,machineId:e},u["default"].createElement(s["default"],{machineId:e}))}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),u=r(a),i=n(65),c=n(52),l=n(131),f=r(l),d=n(377),s=r(d),p=n(378),h=r(p);o.propTypes={machines:f["default"].set.isRequired};var y=function(e){return{machines:e.get("game").get("machinesInScene")}};t["default"]=(0,i.connect)(y)(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.x,n=e.y,r=e.angle,o=e.value;return u["default"].createElement(i.DisplayObjectContainer,{rotation:r,x:t,y:n},u["default"].createElement(l.Graphics,null,u["default"].createElement(l.Circle,{x:0,y:0,radius:f.MARBLE_RADIUS,lineColor:f.palette.darkWhite,lineWidth:2})),u["default"].createElement(i.Text,{text:o,style:d,anchor:s}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(10),u=r(a),i=n(52),c=n(147),l=n(55),f=n(23),d={fill:f.palette.str.darkWhite,fontFamily:"'Source Sans Pro'",fontSize:"14px",fontWeight:"200",font:"14px 'Source Sans Pro'"},s=new c.Point(.5,.5);o.propTypes={angle:u["default"].PropTypes.number.isRequired,x:u["default"].PropTypes.number.isRequired,y:u["default"].PropTypes.number.isRequired,value:u["default"].PropTypes.any.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(10),l=r(c),f=n(52),d=n(380),s=r(d),p=n(84),h=r(p),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.loop=function(){r.frameRequestId=window.requestAnimationFrame(r.loop),r.forceUpdate()},u=n,a(r,u)}return u(t,e),i(t,[{key:"componentDidMount",value:function(){this.loop()}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frameRequestId)}},{key:"render",value:function(){var e=this.context.game.marbles;return l["default"].createElement(f.DisplayObjectContainer,null,e.map(function(e){var t=e.id,n=e.angle,r=e.position,o=r.x,a=r.y,u=h["default"].getValue(e);return l["default"].createElement(s["default"],{key:t,x:o,y:a,angle:n,value:u})}))}}]),t}(l["default"].Component);y.contextTypes={game:l["default"].PropTypes.object.isRequired},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(10),l=r(c),f=n(18),d=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.attachRenderer=function(e){var t=r.props,n=t.width,o=t.height,a=t.engine;r.renderer=f.Render.create({engine:a,element:e,options:{width:n,height:o,wireframeBackground:"transparent"}}),f.Render.run(r.renderer)},u=n,a(r,u)}return u(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.renderer&&f.Render.stop(this.renderer)}},{key:"render",value:function(){return l["default"].createElement("div",{className:"MatterDebug",ref:this.attachRenderer})}}]),t}(l["default"].Component);d.propTypes={width:l["default"].PropTypes.number.isRequired,height:l["default"].PropTypes.number.isRequired,engine:l["default"].PropTypes.object.isRequired},t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.width,n=e.height;return u["default"].createElement("div",{className:"Renderer"},u["default"].createElement(i.Stage,{backgroundcolor:s.palette.black,width:t,height:n,antialias:!0},u["default"].createElement(d["default"],null),u["default"].createElement(l["default"],null)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(10),u=r(a),i=n(52),c=n(379),l=r(c),f=n(381),d=r(f),s=n(23);o.propTypes={width:u["default"].PropTypes.number.isRequired,height:u["default"].PropTypes.number.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(33),u=r(a),i=u["default"].create("Block",{create:function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return o.Bodies.rectangle(t,n,r,a,{isStatic:!0})}});t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(33),u=r(a),i=n(69),c=r(i),l=n(68),f=r(l),d=n(84),s=r(d),p=n(23),h=u["default"].create("Cloner",{initialState:function(e){var t=e.x,n=e.y,r=e.rate;return{input:f["default"].create({x:t,y:n-f["default"].height/2,isStatic:!0,rate:r}),rightOutput:c["default"].create({x:t+c["default"].width/2,y:n+c["default"].height/2,angle:-(p.PORT_SEP/2),isStatic:!0,rate:r}),leftOutput:c["default"].create({x:t-c["default"].width/2,y:n+c["default"].height/2,angle:p.PORT_SEP/2,isStatic:!0,rate:r})}},create:function(e,t){var n=(e.x,e.y,t.input),r=t.rightOutput,a=t.leftOutput;return o.Composite.create({bodies:[n,r,a]})},beforeUpdate:function(e,t){var n=t.input,r=t.leftOutput,o=t.rightOutput;if(f["default"].canConsume(n)&&c["default"].canProduce(r)&&c["default"].canProduce(o)){var a=s["default"].getValue(f["default"].consume(n));c["default"].produce(r,a),c["default"].produce(o,a)}}});t["default"]=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),u=n(33),i=o(u),c=n(69),l=o(c),f=n(68),d=o(f),s=n(84),p=o(s),h=n(227),y=r(h),v=n(23),_=i["default"].create("Combiner",{initialState:function(e){var t=e.x,n=e.y,r=e.rate,o=e.operation;return{operation:o,rightInput:d["default"].create({x:t+d["default"].width/2,y:n-d["default"].height/2,angle:v.PORT_SEP/2,isStatic:!0,rate:r}),leftInput:d["default"].create({x:t-d["default"].width/2,y:n-d["default"].height/2,angle:-(v.PORT_SEP/2),isStatic:!0,rate:r}),output:l["default"].create({x:t,y:n+l["default"].height/2,isStatic:!0,rate:r})}},create:function(e,t){var n=(e.x,e.y,t.leftInput),r=t.rightInput,o=t.output;return a.Composite.create({bodies:[r,n,o]})},beforeUpdate:function(e,t){var n=t.rightInput,r=t.leftInput,o=t.output,a=t.operation;if(d["default"].canConsume(r)&&d["default"].canConsume(n)&&l["default"].canProduce(o)){var u=p["default"].getValue(d["default"].consume(r)),i=p["default"].getValue(d["default"].consume(n)),c=y[a];l["default"].produce(o,c(u,i))}}});t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),u=n(68),i=r(u),c=a["default"].create("Destination",{initialState:function(e){var t=e.x,n=e.y,r=e.rate;return{input:i["default"].create({x:t,y:n,rate:r,isStatic:!0})}},create:function(e,t){var n=t.input;return n},beforeUpdate:function(e){i["default"].canConsume(e)&&i["default"].consume(e)}});t["default"]=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),u=n(33),i=o(u),c=n(69),l=o(c),f=n(68),d=o(f),s=n(84),p=o(s),h=n(23),y=n(228),v=r(y),_=i["default"].create("Separator",{initialState:function(e){var t=e.x,n=e.y,r=e.condition,o=e.rate;return{condition:r,input:d["default"].create({x:t,y:n-d["default"].height/2,isStatic:!0,rate:o}),rightOutput:l["default"].create({x:t+l["default"].width/2,y:n+l["default"].height/2,angle:-(h.PORT_SEP/2),isStatic:!0,rate:o}),leftOutput:l["default"].create({x:t-l["default"].width/2,y:n+l["default"].height/2,angle:h.PORT_SEP/2,isStatic:!0,rate:o})}},create:function(e,t){var n=(e.x,e.y,t.input),r=t.rightOutput,o=t.leftOutput;return a.Composite.create({bodies:[n,r,o]})},beforeUpdate:function(e,t){var n=t.input,r=t.leftOutput,o=t.rightOutput,a=t.condition;if(d["default"].canConsume(n)&&l["default"].canProduce(r)&&l["default"].canProduce(o)){var u=p["default"].getValue(d["default"].consume(n)),i=v[a];l["default"].produce(i(u)?o:r,u)}}});t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),u=n(69),i=r(u),c=n(391),l=r(c),f=a["default"].create("Source",{initialState:function(e){var t=e.x,n=e.y,r=e.sequence,o=void 0===r?new l["default"]:r,a=e.rate;return{output:i["default"].create({x:t,y:n,rate:a,isStatic:!0}),sequence:o}},create:function(e,t){var n=t.output;return n},beforeUpdate:function(e,t){var n=t.sequence;i["default"].canProduce(e)&&i["default"].produce(e,n.next())}});t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(384);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return r(o)["default"]}});var a=n(385);Object.defineProperty(t,"Cloner",{enumerable:!0,get:function(){return r(a)["default"]}});var u=n(386);Object.defineProperty(t,"Combiner",{enumerable:!0,get:function(){return r(u)["default"]}});var i=n(387);Object.defineProperty(t,"Destination",{enumerable:!0,get:function(){return r(i)["default"]}});var c=n(388);Object.defineProperty(t,"Separator",{enumerable:!0,get:function(){return r(c)["default"]}});var l=n(389);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r(l)["default"]}})},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.min,o=void 0===r?0:r,a=t.max,u=void 0===a?1/0:a,i=t.step,c=void 0===i?1:i;n(this,e),this.nextValue=o,this.max=u,this.step=c}return r(e,[{key:"next",value:function(){var e=this.nextValue;return this.nextValue+=this.step,e}}]),e}();t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(18),i=n(681),c=r(i),l=n(33),f=r(l),d=n(41),s=function(e,t){return function(n){return a(n[e])===t}},p=function(e,t){console.group("Setup events: "+e),0===t.length&&console.log("none"),t.forEach(function(e){return Array.isArray(e)?console.log(e[0].toString(),"💥",e[1].toString()):console.log(e.componentId.toString())}),console.groupEnd()},h={start:"collisionStart",end:"collisionEnd"};t["default"]=function(e,t){var n=Object.values(t),r=function(t){var r=n.filter(s(t,"function")),o=function a(n){r.forEach(function(r){return(0,d.hasOwnProperty)(n,r.componentId)&&r[t](n,r.getState(n),e)}),"composite"===n.type&&u.Composite.allBodies(n).forEach(a)};p(t,r),u.Events.on(e.world,t,function(e){return Array.isArray(e.object)?e.object.forEach(o):o(e.object)})},a=function(t){var r=n.filter(s(t,"function"));p(t,r),u.Events.on(e.engine,t,function(){return r.forEach(function(n){return n.instances.forEach(function(r){return n[t](r,n.getState(r),e)})})})},i=function(t,n,r,o,a){var u=f["default"].registered[n],i=f["default"].registered[o],c=u.getState(r);u.collisions[i.name][t](r,c,a,e)},l=function(t){var r=h[t],a=(0,c["default"])(n.filter(s("collisions","object")).map(function(e){return Object.keys(e.collisions).filter(function(n){return s(t,"function")(e.collisions[n])}).map(function(t){return[e.componentId,f["default"].get(t).componentId]})}));p(r,a),u.Events.on(e.engine,r,function(e){return e.pairs.forEach(function(e){return a.forEach(function(n){var r=o(n,2),a=r[0],u=r[1];(0,d.hasOwnProperty)(e.bodyA,a)&&(0,d.hasOwnProperty)(e.bodyB,u)?i(t,a,e.bodyA,u,e.bodyB,e):(0,d.hasOwnProperty)(e.bodyB,a)&&(0,d.hasOwnProperty)(e.bodyA,u)&&i(t,a,e.bodyB,u,e.bodyA,e)})})})};r("beforeAdd"),r("afterAdd"),r("beforeRemove"),r("afterRemove"),l("start"),l("end"),a("beforeUpdate"),a("afterUpdate")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(33),u=r(a),i=n(84),c=r(i),l=n(392),f=r(l),d=n(394),s=r(d);t["default"]=function(e){var t=o.Engine.create(),n=t.world,r={engine:t,world:n,marbles:c["default"].instances,bounds:{min:{x:0,y:0},max:{x:1/0,y:1/0}},setSize:function(e,t){r.bounds.max.x=e,r.bounds.max.y=t}};return(0,f["default"])(r,u["default"].registered),(0,s["default"])(r,e),o.Engine.run(t),window.game=r,r}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),u=n(97),i=o(u),c=n(390),l=r(c);t["default"]=function(e,t){var n=e.engine,r=e.world,o={},u=i["default"].Set(),c=i["default"].Map();a.Events.on(n,"beforeUpdate",function(){var e=t.getState().get("game"),n=e.get("machinesById"),i=e.get("machinesInScene");if(!i.equals(u)){var f=i.subtract(u).map(function(e){var t=n.get(e).toObject(),r=l[t.type];if(!r)throw new Error("Unknown machine type "+t.type);var a=r.create(t);return o[e]=a,a}).toArray();f.length&&a.World.add(r,f),u.subtract(i).forEach(function(e){console.log("REMOVE",e);var t=o[e];if(!t)throw new Error("Unknown instance "+e);o[e]=void 0,a.World.remove(r,t)})}n.equals(c)||Object.keys(o).forEach(function(e){var t=n.get(e);if(t&&!t.equals(c.get(e))){var r=t.toObject(),a=l[r.type];if(!a)throw new Error("Unknown machine type "+r.type);a.updateFromStore(o[e],r)}}),u=i,c=n})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(10),a=r(o),u=n(286),i=n(65),c=n(363),l=r(c),f=n(397),d=r(f),s=n(110),p=n(393),h=r(p),y=(0,h["default"])(d["default"]),v=!1;(0,u.render)(a["default"].createElement(i.Provider,{store:d["default"]},a["default"].createElement(l["default"],{game:y,debug:v})),document.getElementById("content")),d["default"].dispatch((0,s.addMachine)("Source",100,100,null,!1)),d["default"].dispatch((0,s.addMachine)("Separator",100,200,{condition:"isEven"},!1)),d["default"].dispatch((0,s.addMachine)("Destination",65,320,null,!1)),d["default"].dispatch((0,s.addMachine)("Cloner",135,340,null,!1)),d["default"].dispatch((0,s.addMachine)("Combiner",135,470,{operation:"multiply"},!1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(97),c=r(i),l=n(225),f=c["default"].Map({machinesById:c["default"].Map(),machinesInScene:c["default"].Set(),selectionActive:!1}),d=(a={},o(a,l.MACHINES.ADD,function(e,t){var n=t.machineType,r=t.id,o=t.x,a=t.y,i=t.props,l=t.select;return e.setIn(["machinesById",r],c["default"].Map(u({type:n,id:r,x:o,y:a},i))).update("machinesInScene",function(e){return e.add(r)}).update("selectedMachine",function(e){return l?r:e}).set("selectionActive",!!l)}),o(a,l.MACHINES.DELETE,function(e,t){var n=t.id;return e.deleteIn(["machinesById",n]).update("machinesInScene",function(e){return e["delete"](n)}).update("selectedMachine",function(t){return e.get("selectedMachine")===n?null:t}).update("selectionActive",function(t){return e.get("selectedMachine")!==n&&t})}),o(a,l.MACHINES.MOVE,function(e,t){var n=t.id,r=t.x,o=t.y;return e.updateIn(["machinesById",n],function(e){return e.set("x",r).set("y",o)})}),o(a,l.MACHINES.SELECT,function(e,t){var n=t.id;return e.update("selectedMachine",function(e){return null==n?e:n}).set("selectionActive",null!=n)}),a);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?f:arguments[0],t=arguments[1];return d[t.type]?d[t.type](e,t):e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(214),a=n(97),u=r(a),i=n(318),c=r(i),l=n(396),f=r(l),d=u["default"].Map(),s=function(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments[1];return e.update("game",function(e){return(0,f["default"])(e,t)})},p=(0,o.createStore)(s,d,(0,o.compose)((0,o.applyMiddleware)(c["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e}));t["default"]=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"style.css"},,,function(e,t,n){var r=n(79),o=n(61),a=r(o,"DataView");e.exports=a},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(642),a=n(643),u=n(644),i=n(645),c=n(646);r.prototype.clear=o,r.prototype["delete"]=a,r.prototype.get=u,r.prototype.has=i,r.prototype.set=c,e.exports=r},function(e,t,n){var r=n(79),o=n(61),a=r(o,"Promise");e.exports=a},function(e,t,n){var r=n(79),o=n(61),a=r(o,"Set");e.exports=a},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(178),a=n(668),u=n(669);r.prototype.add=r.prototype.push=a,r.prototype.has=u,e.exports=r},function(e,t,n){var r=n(61),o=r.Uint8Array;e.exports=o},function(e,t,n){var r=n(79),o=n(61),a=r(o,"WeakMap");e.exports=a},,,,function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=e.length;return t?e[o(0,t-1)]:void 0}var o=n(265);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(611),o=n(633),a=o(r);e.exports=a},function(e,t,n){var r=n(634),o=r();e.exports=o},function(e,t,n){function r(e,t){return e&&o(e,t,a)}var o=n(610),a=n(99);e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n,r,y,_){var b=l(e),g=l(t),m=p,A=p;b||(m=c(e),m=m==s?h:m),g||(A=c(t),A=A==s?h:A);var E=m==h,S=A==h,P=m==A;if(P&&!E)return _||(_=new o),b||f(e)?a(e,t,n,r,y,_):u(e,t,m,n,r,y,_);if(!(y&d)){var x=E&&v.call(e,"__wrapped__"),M=S&&v.call(t,"__wrapped__");if(x||M){var w=x?e.value():e,R=M?t.value():t;return _||(_=new o),n(w,R,r,y,_)}}return!!P&&(_||(_=new o),i(e,t,n,r,y,_))}var o=n(260),a=n(267),u=n(635),i=n(636),c=n(639),l=n(51),f=n(685),d=2,s="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r){var c=n.length,l=c,f=!r;if(null==e)return!l;for(e=Object(e);c--;){var d=n[c];if(f&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){d=n[c];var s=d[0],p=e[s],h=d[1];if(f&&d[2]){if(void 0===p&&!(s in e))return!1}else{var y=new o;if(r)var v=r(p,h,s,e,t,y);if(!(void 0===v?a(h,p,r,u|i,y):v))return!1}}return!0}var o=n(260),a=n(264),u=1,i=2;e.exports=r},,function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!L[I.call(e)]}var o=n(184),a=n(98),u="[object Arguments]",i="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",d="[object Function]",s="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",x="[object Int32Array]",M="[object Uint8Array]",w="[object Uint8ClampedArray]",R="[object Uint16Array]",O="[object Uint32Array]",L={};L[A]=L[E]=L[S]=L[P]=L[x]=L[M]=L[w]=L[R]=L[O]=!0,L[u]=L[i]=L[g]=L[c]=L[m]=L[l]=L[f]=L[d]=L[s]=L[p]=L[h]=L[y]=L[v]=L[_]=L[b]=!1;var j=Object.prototype,I=j.toString;e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?u:"object"==typeof e?i(e)?a(e[0],e[1]):o(e):c(e)}var o=n(621),a=n(622),u=n(182),i=n(51),c=n(688);e.exports=r},,function(e,t,n){function r(e,t){var n=-1,r=a(e)?Array(e.length):[];return o(e,function(e,o,a){r[++n]=t(e,o,a)}),r}var o=n(609),a=n(80);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?u(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(615),a=n(637),u=n(270);e.exports=r},function(e,t,n){function r(e,t){return i(e)&&c(t)?l(f(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?u(n,e):o(t,r,void 0,d|s)}}var o=n(264),a=n(682),u=n(683),i=n(126),c=n(269),l=n(270),f=n(128),d=1,s=2;e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return o(t,e)}}var o=n(263);e.exports=r},,,,function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=n(179),a=n(129),u=1/0,i=o?o.prototype:void 0,c=i?i.toString:void 0;e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t){return o(t,function(t){return e[t]})}var o=n(261);e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},,function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var a=n.length,u=t?a:-1,i=Object(n);(t?u--:++u<a)&&r(i[u],u,i)!==!1;);return n}}var o=n(80);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,a=Object(t),u=r(t),i=u.length;i--;){
var c=u[e?i:++o];if(n(a[c],c,a)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,r,o,S,x){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!r(new a(e),new a(t)));case s:case p:case v:return u(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case g:return e==t+"";case y:var M=c;case b:var w=S&d;if(M||(M=l),e.size!=t.size&&!w)return!1;var R=x.get(e);if(R)return R==t;S|=f,x.set(e,t);var O=i(M(e),M(t),r,o,S,x);return x["delete"](e),O;case m:if(P)return P.call(e)==P.call(t)}return!1}var o=n(179),a=n(601),u=n(181),i=n(267),c=n(662),l=n(670),f=1,d=2,s="[object Boolean]",p="[object Date]",h="[object Error]",y="[object Map]",v="[object Number]",_="[object RegExp]",b="[object Set]",g="[object String]",m="[object Symbol]",A="[object ArrayBuffer]",E="[object DataView]",S=o?o.prototype:void 0,P=S?S.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,u,c){var l=u&a,f=o(e),d=f.length,s=o(t),p=s.length;if(d!=p&&!l)return!1;for(var h=d;h--;){var y=f[h];if(!(l?y in t:i.call(t,y)))return!1}var v=c.get(e);if(v&&c.get(t))return v==t;var _=!0;c.set(e,t),c.set(t,e);for(var b=l;++h<d;){y=f[h];var g=e[y],m=t[y];if(r)var A=l?r(m,g,y,t,e,c):r(g,m,y,e,t,c);if(!(void 0===A?g===m||n(g,m,r,u,c):A)){_=!1;break}b||(b="constructor"==y)}if(_&&!b){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof S&&S instanceof S)&&(_=!1)}return c["delete"](e),c["delete"](t),_}var o=n(99),a=2,u=Object.prototype,i=u.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],u=e[r];t[n]=[r,u,o(u)]}return t}var o=n(269),a=n(99);e.exports=r},,function(e,t,n){var r=n(596),o=n(177),a=n(598),u=n(599),i=n(602),c=n(612),l=n(272),f="[object Map]",d="[object Object]",s="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",v=Object.prototype,_=v.toString,b=l(r),g=l(o),m=l(a),A=l(u),E=l(i),S=c;(r&&S(new r(new ArrayBuffer(1)))!=y||o&&S(new o)!=f||a&&S(a.resolve())!=s||u&&S(new u)!=p||i&&S(new i)!=h)&&(S=function(e){var t=_.call(e),n=t==d?e.constructor:void 0,r=n?l(n):void 0;if(r)switch(r){case b:return y;case g:return f;case m:return s;case A:return p;case E:return h}return t}),e.exports=S},,function(e,t,n){function r(e,t,n){t=c(t,e)?[t]:o(t);for(var r=-1,d=t.length,s=!1;++r<d;){var p=f(t[r]);if(!(s=null!=e&&n(e,p)))break;e=e[p]}return s||++r!=d?s:(d=e?e.length:0,!!d&&l(d)&&i(p,d)&&(u(e)||a(e)))}var o=n(266),a=n(183),u=n(51),i=n(180),c=n(126),l=n(184),f=n(128);e.exports=r},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(127);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===a?void 0:n}return i.call(t,e)?t[e]:void 0}var o=n(127),a="__lodash_hash_undefined__",u=Object.prototype,i=u.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:u.call(t,e)}var o=n(127),a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?a:t,this}var o=n(127),a="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){return u(e)||a(e)||!!(i&&e&&e[i])}var o=n(179),a=n(183),u=n(51),i=o?o.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t,n){if(!i(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&u(t,n.length):"string"==r&&t in n)&&o(n[t],e)}var o=n(181),a=n(80),u=n(180),i=n(90);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},,,function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():u.call(t,n,1),--this.size,!0}var o=n(124),a=Array.prototype,u=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(124);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(124);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(124);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(u||a),string:new o}}var o=n(597),a=n(123),u=n(177);e.exports=r},function(e,t,n){function r(e){var t=o(this,e)["delete"](e);return this.size-=t?1:0,t}var o=n(125);e.exports=r},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(125);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(125);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(125);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){var t=o(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var o=n(687),a=500;e.exports=r},,,function(e,t,n){(function(e){var r=n(268),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===o,i=u&&r.process,c=function(){try{return i&&i.binding("util")}catch(e){}}();e.exports=c}).call(t,n(350)(e))},,function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},,,function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(123);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new u(r)}return n.set(e,t),this.size=n.size,this}var o=n(123),a=n(177),u=n(178),i=200;e.exports=r},function(e,t,n){var r=n(663),o=n(277),a=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,c=r(function(e){e=o(e);var t=[];return a.test(e)&&t.push(""),e.replace(u,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=c},,function(e,t,n){function r(e,t){return o(a(e,t),1)}var o=n(262),a=n(686);e.exports=r},function(e,t,n){function r(e){var t=e?e.length:0;return t?o(e,1):[]}var o=n(262);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(263);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,o)}var o=n(613),a=n(641);e.exports=r},,function(e,t,n){var r=n(617),o=n(629),a=n(666),u=a&&a.isTypedArray,i=u?o(u):r;e.exports=i},function(e,t,n){function r(e,t){var n=i(e)?o:u;return n(e,a(t,3))}var o=n(261),a=n(618),u=n(620),i=n(51);e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var u=e.apply(this,r);return n.cache=a.set(o,u)||a,u};return n.cache=new(r.Cache||o),n}var o=n(178),a="Expected a function";r.Cache=o,e.exports=r},function(e,t,n){function r(e){return u(e)?o(i(e)):a(e)}var o=n(623),a=n(624),u=n(126),i=n(128);e.exports=r},function(e,t,n){function r(e,t,n){if(n&&"boolean"!=typeof n&&a(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=u(e),void 0===t?(t=e,e=0):t=u(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var f=l();return c(e+f*(t-e+i("1e-"+((f+"").length-1))),t)}return o(e,t)}var o=n(265),a=n(648),u=n(276),i=parseFloat,c=Math.min,l=Math.random;e.exports=r},function(e,t,n){function r(e){return o(a(e)?e:u(e))}var o=n(607),a=n(80),u=n(694);e.exports=r},,,function(e,t,n){function r(e){var t=++a;return o(e)+t}var o=n(277),a=0;e.exports=r},function(e,t,n){function r(e){return e?o(e,a(e)):[]}var o=n(630),a=n(99);e.exports=r}]);
//# sourceMappingURL=app.js.map