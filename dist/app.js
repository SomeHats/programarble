webpackJsonp([1],{0:function(e,t,n){n(354),e.exports=n(552)},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131),u=function(e){return function(){return e}},a={registered:{},create:function(e,t){var n=Symbol("Component("+e+")"),o=Object.assign({},t,{name:e,componentId:n,instances:[],initialState:t.initialState||function(){return{}},_afterAdd:t.afterAdd||u(),_beforeRemove:t.beforeRemove||u(),create:function(e){var r=o.initialState(e),u=t.create(e,r);return u.id=t.id||u.id,u[n]=r,u},getState:function(e){return e[n]},afterAdd:function(e){o.instances.push(e),o._afterAdd.apply(this,arguments)},beforeRemove:function(e){(0,r.remove)(o.instances,e),o._beforeRemove.apply(this,arguments)}});return a.registered[n]=a.registered[e]=o,o},get:function(e){if(!a.registered[e])throw new Error("Component "+e.toString()+" not found");return a.registered[e]}};t["default"]=a},74:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){u=!0,a=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(u)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t.GEOM_SCALE=1,o=(t.MARBLE_RADIUS=15*a,t.WALL_SIZE=5*a,t.PAD=1*a,t.palette={turquoise:1752220,green:3066993,blue:3447003,purple:10181046,black:3426654,yellow:15844367,orange:15105570,red:15158332,white:15528177,grey:9807270,darkTurquoise:1482885,darkGreen:2600544,darkBlue:2719929,darkPurple:9323693,darkBlack:2899536,darkYellow:15965202,darkOrange:13849600,darkRed:12597547,darkWhite:12436423,darkGrey:8359053});o.str=Object.entries(o).reduce(function(e,t){var a=u(t,2),o=a[0],i=a[1];return r({},e,n({},o,"#"+i.toString(16)))},{})},75:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(74),o=n(39),i=r(o),l=i["default"].create("Marble",{initialState:function(e){var t=e.value;return{value:t}},create:function(e){var t=e.x,n=e.y;return u.Bodies.circle(t,n,a.MARBLE_RADIUS,{force:{x:u.Common.random(-.001,.001),y:u.Common.random(-.001,.001)},friction:.1})},getValue:function(e){return l.getState(e).value},setValue:function(e,t){return l.getState(e).value=t,t},afterUpdate:function(e,t,n){var r=n.bounds,a=n.world;u.Bounds.overlaps(r,e.bounds)||u.World.remove(a,e)}});t["default"]=l},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(74),l=n(131),c=o["default"].create("Input.Sensor",{width:2*(i.MARBLE_RADIUS+i.PAD),height:i.WALL_SIZE,create:function(e){var t=e.x,n=e.y;return u.Bodies.rectangle(t,n+i.MARBLE_RADIUS,c.width,c.height,{isSensor:!0})},collisions:{Marble:{start:function(e,t,n){f.getState(e.parent).waiting.push(n)},end:function(e,t,n){(0,l.remove)(f.getState(e.parent).waiting,n)}}}}),f=o["default"].create("Input",{width:2*(i.MARBLE_RADIUS+i.WALL_SIZE+i.PAD),height:2*(i.WALL_SIZE+i.MARBLE_RADIUS),initialState:function(e){var t=e.rate,n=void 0===t?100:t;return{rate:n,waiting:[]}},create:function(e){var t=e.x,n=e.y,r=e.isStatic;return u.Body.create({isStatic:r,parts:[u.Bodies.rectangle(t+i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD,n,i.WALL_SIZE,f.height-i.WALL_SIZE),u.Bodies.rectangle(t-(i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD),n,i.WALL_SIZE,f.height-i.WALL_SIZE,{render:{fillStyle:"red"}}),u.Bodies.rectangle(t,n+i.MARBLE_RADIUS+i.WALL_SIZE,f.width,i.WALL_SIZE),c.create({x:t,y:n})]})},afterAdd:function(e,t,n){t.game=n,t.lastConsumed=n.engine.timing.timestamp},canConsume:function(e){var t=f.getState(e),n=t.lastConsumed,r=t.rate,u=t.waiting,a=t.game,o=a.engine.timing.timestamp;return o-n>r&&u.length},consume:function(e){var t=f.getState(e),n=t.game,r=n.world,a=n.engine,o=t.waiting.shift();return u.World.remove(r,o),t.lastConsumed=a.timing.timestamp,o}});t["default"]=f},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(75),l=r(i),c=n(74),f=o["default"].create("Output.Sensor",{width:2*(c.MARBLE_RADIUS+c.PAD),height:2*c.MARBLE_RADIUS,create:function(e){var t=e.x,n=e.y;return u.Bodies.rectangle(t,n,f.width,f.height,{isSensor:!0})},collisions:{Marble:{start:function(e){d.getState(e.parent).blockers+=1},end:function(e){d.getState(e.parent).blockers-=1}}}}),d=o["default"].create("Output",{width:2*(c.MARBLE_RADIUS+c.WALL_SIZE+c.PAD),height:c.WALL_SIZE+2*c.MARBLE_RADIUS,initialState:function(e){var t=e.rate,n=void 0===t?100:t;return{rate:n,blockers:0}},create:function(e){var t=e.x,n=e.y,r=e.isStatic;return u.Body.create({isStatic:r,parts:[u.Bodies.rectangle(t+c.MARBLE_RADIUS+c.WALL_SIZE/2+c.PAD,n,c.WALL_SIZE,2*c.MARBLE_RADIUS),u.Bodies.rectangle(t-(c.MARBLE_RADIUS+c.WALL_SIZE/2+c.PAD),n,c.WALL_SIZE,2*c.MARBLE_RADIUS),u.Bodies.rectangle(t,n-(c.MARBLE_RADIUS+c.WALL_SIZE/2),d.width,c.WALL_SIZE),f.create({x:t,y:n})]})},afterAdd:function(e,t,n){t.game=n,t.lastProduced=n.engine.timing.timestamp},canProduce:function(e){var t=d.getState(e),n=t.lastProduced,r=t.rate,u=t.blockers,a=t.game,o=a.engine.timing.timestamp;return o-n>r&&!u},produce:function(e,t){var n=d.getState(e),r=n.game,a=r.world,o=r.engine;u.World.add(a,l["default"].create({x:e.position.x,y:e.position.y,value:t})),n.lastProduced=o.timing.timestamp}});t["default"]=d},131:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.remove=function(e,t){var n=e.indexOf(t);if(n!==-1)return e.splice(n,1)[0]},t.degrees=function(e){return e*(Math.PI/180)}},204:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addMachine=void 0;var a=n(590),o=u(a),i=n(205),l=r(i);t.addMachine=function(e,t,n){return{type:l.MACHINES.ADD,machineType:e,id:(0,o["default"])(e),x:t,y:n}}},205:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MACHINES={ADD:"MACHINES:ADD"}},206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RoundedRectangle=t.Rectangle=t.Polygon=t.Ellipse=t.Circle=t.BezierCurve=t.Arc=t.Graphics=void 0;var u=n(334);Object.defineProperty(t,"Graphics",{enumerable:!0,get:function(){return r(u)["default"]}});var a=n(335),o=r(a);t.Arc=(0,o["default"])("Arc",function(e,t){var n=t.cx,r=t.cy,u=t.radius,a=t.startAngle,o=t.endAngle,i=t.antiClockwise,l=t.x1,c=t.y1,f=t.x2,d=t.y2;if(null!=n&&null!=r&&null!=u&&null!=a&&null!=o)e.arc(n,r,u,a,o,i);else{if(null==l||null==f||null==c||null==d||null==u)throw new Error("Arc must be given props matching either Pixi Graphics arc or arcTo");e.arcTo(l,c,f,d,u)}}),t.BezierCurve=(0,o["default"])("BezierCurve",function(e,t){var n=t.cpX,r=t.cpY,u=t.cpX2,a=t.cpY2,o=t.toX,i=t.toY;return e.BezierCurveTo(n,r,u,a,o,i)}),t.Circle=(0,o["default"])("Circle",function(e,t){var n=t.x,r=t.y,u=t.radius;return e.drawCircle(n,r,u)}),t.Ellipse=(0,o["default"])("Ellipse",function(e,t){var n=t.x,r=t.y,u=t.width,a=t.height;return e.drawEllipse(n,r,u,a)}),t.Polygon=(0,o["default"])("Polygon",function(e,t){var n=t.path;return e.drawPolygon(n)}),t.Rectangle=(0,o["default"])("Rectangle",function(e,t){var n=t.x,r=t.y,u=t.width,a=t.height;return e.drawRectangle(n,r,u,a)}),t.RoundedRectangle=(0,o["default"])("RoundedRectangle",function(e,t){var n=t.x,r=t.y,u=t.width,a=t.height,o=t.radius;return e.drawRoundedRect(n,r,u,a,o)})},238:function(e,t,n){var r=n(240),u=r.Symbol;e.exports=u},331:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(18),c=r(l),f=n(333),d=r(f),s=n(343),p=r(s),y=n(342),h=r(y),v=function(e){function t(){var e,n,r,o;u(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.updateSize=function(){var e=window.innerWidth,t=window.innerHeight,n=Math.max(Math.round(.2*e),200),u=e-n;r.setState({width:e,height:t,controlsWidth:n,gameWidth:u}),r.props.game.setSize(u,t)},o=n,a(r,o)}return o(t,e),i(t,[{key:"getChildContext",value:function(){return{game:this.props.game}}},{key:"componentWillMount",value:function(){this.updateSize(),window.addEventListener("resize",this.updateSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSize)}},{key:"render",value:function(){var e=this.props,t=e.game,n=e.debug,r=this.state,u=r.controlsWidth,a=r.gameWidth,o=r.height;return c["default"].createElement("div",{className:"App"},c["default"].createElement(p["default"],{width:a,height:o}),c["default"].createElement(d["default"],{width:u}),n&&c["default"].createElement(h["default"],{engine:t.engine,width:a,height:o}))}}]),t}(c["default"].Component);v.propTypes={game:c["default"].PropTypes.object.isRequired,debug:c["default"].PropTypes.bool},v.childContextTypes={game:c["default"].PropTypes.object.isRequired},t["default"]=v},332:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.className,n=void 0===t?"":t,r=u(e,["className"]);return l["default"].createElement("button",o({className:"Button "+n},r))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var i=n(18),l=r(i);a.propTypes={className:l["default"].PropTypes.string}},333:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.width,n=e.onSourceAdd;return o["default"].createElement("div",{className:"Controls",style:{width:t+"px"}},o["default"].createElement("h2",null,"Programarble???"),o["default"].createElement(f["default"],{onClick:n},"Add Source"))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=r(a),i=n(91),l=n(204),c=n(332),f=r(c);u.propTypes={width:o["default"].PropTypes.number.isRequired,onSourceAdd:o["default"].PropTypes.func.isRequired};var d={onSourceAdd:function(){return(0,l.addMachine)("Source",500*Math.random(),500*Math.random())}};t["default"]=(0,i.connect)(null,d)(u)},334:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(18),c=r(l),f=n(129),d=r(f),s=n(59),p=(0,s.CustomPIXIComponent)({customDisplayObject:function(){var e=new d["default"].Graphics;return e.cacheAsBitmap=!0,e},customApplyProps:function(e,t,n){e.clear(),n.draw(e)}}),y=function(e){function t(){var e,n,r,o;u(this,t);for(var i=arguments.length,l=Array(i),f=0;f<i;f++)l[f]=arguments[f];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={drawCount:1},r.draw=function(e){return c["default"].Children.toArray(r.props.children).forEach(function(t){return t.type.draw(e,t.props)})},o=n,a(r,o)}return o(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement(p,{draw:this.draw})}}]),t}(c["default"].Component);y.propTypes={children:c["default"].PropTypes.node.isRequired},t["default"]=y},335:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return function(t,n){t.lineWidth=n.lineWidth||0,t.lineColor=n.lineColor||0,t.lineAlpha=null!=n.lineAlpha?n.lineAlpha:1;var r=null!=n.fill;r&&t.beginFill(n.fill,n.alpha),e(t,n),r&&t.endFill()}};t["default"]=function(e,t){var r=function(){throw new Error("Graphics."+t+" can only be used as the direct child of <Graphics />")};return r.draw=n(t),r.displayName=e,r}},336:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.x,n=e.y;return i["default"].createElement(l.DisplayObjectContainer,{x:t,y:n},i["default"].createElement(f.Graphics,null,i["default"].createElement(f.Polygon,{path:m,fill:d.palette.black,lineColor:d.palette.blue,lineWidth:2}),i["default"].createElement(f.Polygon,{path:b,fill:d.palette.green})))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(18),i=u(o),l=n(59),c=n(206),f=r(c),d=n(74),s=d.MARBLE_RADIUS,p=-(d.MARBLE_RADIUS+d.WALL_SIZE),y=d.MARBLE_RADIUS+d.PAD+d.WALL_SIZE,h=d.MARBLE_RADIUS+d.PAD,v=d.MARBLE_RADIUS-2*d.WALL_SIZE,m=[y,s,-y,s,-h,v,-h,p+d.WALL_SIZE,0,p,h,p+d.WALL_SIZE,h,v],b=[0,d.MARBLE_RADIUS/2,d.WALL_SIZE,-(d.MARBLE_RADIUS/2),-d.WALL_SIZE,-(d.MARBLE_RADIUS/2)];a.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired},a.contextTypes={game:i["default"].PropTypes.object.isRequired}},337:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(336);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r(u)["default"]}})},338:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.machine,n=t.get("type"),r=p[n];return r?i["default"].createElement(r,t.toObject()):i["default"].createElement(c.Text,{text:"Machine "+n+" not found"})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=u(o),l=n(91),c=n(59),f=n(170),d=u(f),s=n(337),p=r(s);a.propTypes={machine:d["default"].map.isRequired};var y=function(e,t){var n=t.machineId;return{machine:e.get("game").get("machinesById").get(n)}};t["default"]=(0,l.connect)(y)(a)},339:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.machines;return o["default"].createElement(l.DisplayObjectContainer,null,t.map(function(e){return o["default"].createElement(s["default"],{machineId:e,key:e})}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=r(a),i=n(91),l=n(59),c=n(170),f=r(c),d=n(338),s=r(d);u.propTypes={machines:f["default"].set.isRequired};var p=function(e){return{machines:e.get("game").get("machinesInScene")}};t["default"]=(0,i.connect)(p)(u)},340:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.x,n=e.y,r=e.angle,u=e.value;return o["default"].createElement(i.DisplayObjectContainer,{rotation:r,x:t,y:n},o["default"].createElement(c.Graphics,null,o["default"].createElement(c.Circle,{x:0,y:0,radius:f.MARBLE_RADIUS,lineColor:f.palette.darkWhite,lineWidth:2})),o["default"].createElement(i.Text,{text:u,style:d,anchor:s}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(18),o=r(a),i=n(59),l=n(129),c=n(206),f=n(74),d={fill:f.palette.str.darkWhite,fontFamily:"'Source Sans Pro'",fontSize:"14px",fontWeight:"200",font:"14px 'Source Sans Pro'"},s=new l.Point(.5,.5);u.propTypes={angle:o["default"].PropTypes.number.isRequired,x:o["default"].PropTypes.number.isRequired,y:o["default"].PropTypes.number.isRequired,value:o["default"].PropTypes.any.isRequired}},341:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(18),c=r(l),f=n(59),d=n(340),s=r(d),p=n(75),y=r(p),h=function(e){function t(){var e,n,r,o;u(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.loop=function(){r.frameRequestId=window.requestAnimationFrame(r.loop),r.forceUpdate()},o=n,a(r,o)}return o(t,e),i(t,[{key:"componentDidMount",value:function(){this.loop()}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frameRequestId)}},{key:"render",value:function(){var e=this.context.game.marbles;return c["default"].createElement(f.DisplayObjectContainer,null,e.map(function(e){var t=e.id,n=e.angle,r=e.position,u=r.x,a=r.y,o=y["default"].getValue(e);return c["default"].createElement(s["default"],{key:t,x:u,y:a,angle:n,value:o})}))}}]),t}(c["default"].Component);h.contextTypes={game:c["default"].PropTypes.object.isRequired},t["default"]=h},342:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(18),c=r(l),f=n(35),d=function(e){function t(){var e,n,r,o;u(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.attachRenderer=function(e){var t=r.props,n=t.width,u=t.height,a=t.engine;r.renderer=f.Render.create({engine:a,element:e,options:{width:n,height:u,wireframeBackground:"transparent"}}),f.Render.run(r.renderer)},o=n,a(r,o)}return o(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.renderer&&f.Render.stop(this.renderer)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"MatterDebug",ref:this.attachRenderer})}}]),t}(c["default"].Component);d.propTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,engine:c["default"].PropTypes.object.isRequired},t["default"]=d},343:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.width,n=e.height;return o["default"].createElement("div",{className:"Renderer"},o["default"].createElement(i.Stage,{backgroundcolor:s.palette.black,width:t,height:n,antialias:!0},o["default"].createElement(d["default"],null),o["default"].createElement(c["default"],null)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(18),o=r(a),i=n(59),l=n(339),c=r(l),f=n(341),d=r(f),s=n(74);u.propTypes={width:o["default"].PropTypes.number.isRequired,height:o["default"].PropTypes.number.isRequired}},344:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(100),l=r(i),c=n(99),f=r(c),d=n(75),s=r(d),p=o["default"].create("Clone",{initialState:function(e){var t=e.x,n=e.y,r=e.rate;return{input:f["default"].create({x:t,y:n-f["default"].height/2,isStatic:!0,rate:r}),rightOutput:l["default"].create({x:t+l["default"].width/2,y:n+l["default"].height/2,isStatic:!0,rate:r}),leftOutput:l["default"].create({x:t-l["default"].width/2,y:n+l["default"].height/2,isStatic:!0,rate:r})}},create:function(e,t){var n=(e.x,e.y,t.input),r=t.rightOutput,a=t.leftOutput;return u.Composite.create({bodies:[n,r,a]})},beforeUpdate:function(e,t){var n=t.input,r=t.leftOutput,u=t.rightOutput;if(f["default"].canConsume(n)&&l["default"].canProduce(r)&&l["default"].canProduce(u)){var a=s["default"].getValue(f["default"].consume(n));l["default"].produce(r,a),l["default"].produce(u,a)}}});t["default"]=p},345:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(100),l=r(i),c=n(99),f=r(c),d=n(75),s=r(d),p=o["default"].create("Combine",{initialState:function(e){var t=e.x,n=e.y,r=e.rate,u=e.combine;return{combine:u,rightInput:f["default"].create({x:t+f["default"].width/2,y:n-f["default"].height/2,isStatic:!0,rate:r}),leftInput:f["default"].create({x:t-f["default"].width/2,y:n-f["default"].height/2,isStatic:!0,rate:r}),output:l["default"].create({x:t,y:n+l["default"].height/2,isStatic:!0,rate:r})}},create:function(e,t){var n=(e.x,e.y,t.leftInput),r=t.rightInput,a=t.output;return u.Composite.create({bodies:[r,n,a]})},beforeUpdate:function(e,t){var n=t.rightInput,r=t.leftInput,u=t.output,a=t.combine;if(f["default"].canConsume(r)&&f["default"].canConsume(n)&&l["default"].canProduce(u)){var o=s["default"].getValue(f["default"].consume(r)),i=s["default"].getValue(f["default"].consume(n));l["default"].produce(u,a(o,i))}}});t["default"]=p},346:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(39),a=r(u),o=n(99),i=r(o),l=a["default"].create("Destination",{initialState:function(e){var t=e.x,n=e.y,r=e.rate;return{input:i["default"].create({x:t,y:n,rate:r,isStatic:!0})}},create:function(e,t){var n=t.input;return n},beforeUpdate:function(e){i["default"].canConsume(e)&&i["default"].consume(e)}});t["default"]=l},347:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(100),l=r(i),c=n(99),f=r(c),d=n(75),s=r(d),p=o["default"].create("Filter",{initialState:function(e){var t=e.x,n=e.y,r=e.condition,u=e.rate;return{condition:r,input:f["default"].create({x:t,y:n-f["default"].height/2,isStatic:!0,rate:u}),rightOutput:l["default"].create({x:t+l["default"].width/2,y:n+l["default"].height/2,isStatic:!0,rate:u}),leftOutput:l["default"].create({x:t-l["default"].width/2,y:n+l["default"].height/2,isStatic:!0,rate:u})}},create:function(e,t){var n=(e.x,e.y,t.input),r=t.rightOutput,a=t.leftOutput;return u.Composite.create({bodies:[n,r,a]})},beforeUpdate:function(e,t){var n=t.input,r=t.leftOutput,u=t.rightOutput,a=t.condition;if(f["default"].canConsume(n)&&l["default"].canProduce(r)&&l["default"].canProduce(u)){var o=s["default"].getValue(f["default"].consume(n));l["default"].produce(a(o)?u:r,o)}}});t["default"]=p},348:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(39),a=r(u),o=n(100),i=r(o),l=n(350),c=r(l),f=a["default"].create("Source",{initialState:function(e){var t=e.x,n=e.y,r=e.sequence,u=void 0===r?new c["default"]:r,a=e.rate;return{output:i["default"].create({x:t,y:n,rate:a,isStatic:!0}),sequence:u}},create:function(e,t){var n=t.output;return n},beforeUpdate:function(e,t){var n=t.sequence;i["default"].canProduce(e)&&i["default"].produce(e,n.next())}});t["default"]=f},349:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(344);Object.defineProperty(t,"Clone",{enumerable:!0,get:function(){return r(u)["default"]}});var a=n(345);Object.defineProperty(t,"Combine",{enumerable:!0,get:function(){return r(a)["default"]}});var o=n(346);Object.defineProperty(t,"Destination",{enumerable:!0,get:function(){return r(o)["default"]}});var i=n(347);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return r(i)["default"]}});var l=n(348);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r(l)["default"]}})},350:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.min,u=void 0===r?0:r,a=t.max,o=void 0===a?1/0:a,i=t.step,l=void 0===i?1:i;n(this,e),this.nextValue=u,this.max=o,this.step=l}return r(e,[{key:"next",value:function(){var e=this.nextValue;return this.nextValue+=this.step,e}}]),e}();t["default"]=u},351:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){u=!0,a=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(u)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(35),i=n(582),l=r(i),c=n(39),f=r(c),d=n(131),s=function(e,t){return function(n){return a(n[e])===t}},p=function(e,t){console.group("Setup events: "+e),0===t.length&&console.log("none"),t.forEach(function(e){return Array.isArray(e)?console.log(e[0].toString(),"💥",e[1].toString()):console.log(e.componentId.toString())}),console.groupEnd()},y={start:"collisionStart",end:"collisionEnd"};t["default"]=function(e,t){var n=Object.values(t),r=function(t){var r=n.filter(s(t,"function")),u=function a(n){r.forEach(function(r){return(0,d.hasOwnProperty)(n,r.componentId)&&r[t](n,r.getState(n),e)}),"composite"===n.type&&o.Composite.allBodies(n).forEach(a)};p(t,r),o.Events.on(e.world,t,function(e){return Array.isArray(e.object)?e.object.forEach(u):u(e.object)})},a=function(t){var r=n.filter(s(t,"function"));p(t,r),o.Events.on(e.engine,t,function(){return r.forEach(function(n){return n.instances.forEach(function(r){return n[t](r,n.getState(r),e)})})})},i=function(t,n,r,u,a){var o=f["default"].registered[n],i=f["default"].registered[u],l=o.getState(r);o.collisions[i.name][t](r,l,a,e)},c=function(t){var r=y[t],a=(0,l["default"])(n.filter(s("collisions","object")).map(function(e){return Object.keys(e.collisions).filter(function(n){return s(t,"function")(e.collisions[n])}).map(function(t){return[e.componentId,f["default"].get(t).componentId]})}));p(r,a),o.Events.on(e.engine,r,function(e){return e.pairs.forEach(function(e){return a.forEach(function(n){var r=u(n,2),a=r[0],o=r[1];(0,d.hasOwnProperty)(e.bodyA,a)&&(0,d.hasOwnProperty)(e.bodyB,o)?i(t,a,e.bodyA,o,e.bodyB,e):(0,d.hasOwnProperty)(e.bodyB,a)&&(0,d.hasOwnProperty)(e.bodyA,o)&&i(t,a,e.bodyB,o,e.bodyA,e)})})})};r("beforeAdd"),r("afterAdd"),r("beforeRemove"),r("afterRemove"),c("start"),c("end"),a("beforeUpdate"),a("afterUpdate")}},352:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),a=n(39),o=r(a),i=n(75),l=r(i),c=n(351),f=r(c),d=n(353),s=r(d);t["default"]=function(e){var t=u.Engine.create(),n=t.world,r={engine:t,world:n,marbles:l["default"].instances,bounds:{min:{x:0,y:0},max:{x:1/0,y:1/0}},setSize:function(e,t){r.bounds.max.x=e,r.bounds.max.y=t}};return(0,f["default"])(r,o["default"].registered),(0,s["default"])(r,e),u.Engine.run(t),window.game=r,r}},353:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(35),o=n(87),i=u(o),l=n(349),c=r(l);t["default"]=function(e,t){var n=e.engine,r=e.world,u={},o=i["default"].Set();a.Events.on(n,"beforeUpdate",function(){var e=t.getState().get("game"),n=e.get("machinesById"),i=e.get("machinesInScene");if(!i.equals(o)){var l=i.subtract(o).map(function(e){var t=n.get(e).toObject(),r=c[t.type];if(!r)throw new Error("Unknown machine type "+t.type);var a=r.create(t);return u[e]=a,a}).toArray();l.length&&a.World.add(r,l);var f=o.subtract(i).map(function(e){var t=u[e];if(!t)throw new Error("Unknown instance "+e);return u[e]=void 0,e}).toArray();f.length&&a.World.remove(r,f)}o=i})}},354:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var u=n(18),a=r(u),o=n(255),i=n(91),l=n(331),c=r(l),f=n(356),d=r(f),s=n(204),p=n(352),y=r(p),h=(0,y["default"])(d["default"]);(0,o.render)(a["default"].createElement(i.Provider,{store:d["default"]},a["default"].createElement(c["default"],{game:h})),document.getElementById("content")),d["default"].dispatch((0,s.addMachine)("Source",100,100))},355:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
"default":e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(87),o=r(a),i=n(205),l=o["default"].Map({machinesById:o["default"].Map(),machinesInScene:o["default"].Set()}),c=u({},i.MACHINES.ADD,function(e,t){var n=t.machineType,r=t.id,u=t.x,a=t.y;return e.setIn(["machinesById",r],o["default"].Map({type:n,id:r,x:u,y:a})).update("machinesInScene",function(e){return e.add(r)})});t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?l:arguments[0],t=arguments[1];return c[t.type]?c[t.type](e,t):e}},356:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(193),a=n(87),o=r(a),i=n(287),l=r(i),c=n(355),f=r(c),d=o["default"].Map(),s=function(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments[1];return e.update("game",function(e){return(0,f["default"])(e,t)})},p=(0,u.createStore)(s,d,(0,u.compose)((0,u.applyMiddleware)(l["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e}));t["default"]=p},552:function(e,t,n){e.exports=n.p+"style.css"},558:function(e,t){function n(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}e.exports=n},559:function(e,t,n){function r(e,t,n,o,i){var l=-1,c=e.length;for(n||(n=a),i||(i=[]);++l<c;){var f=e[l];t>0&&n(f)?t>1?r(f,t-1,n,o,i):u(i,f):o||(i[i.length]=f)}return i}var u=n(558),a=n(571);e.exports=r},565:function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}var u=n(238),a=n(244),o=1/0,i=u?u.prototype:void 0,l=i?i.toString:void 0;e.exports=r},571:function(e,t,n){function r(e){return o(e)||a(e)||!!(i&&e&&e[i])}var u=n(238),a=n(242),o=n(159),i=u?u.isConcatSpreadable:void 0;e.exports=r},582:function(e,t,n){function r(e){var t=e?e.length:0;return t?u(e,1):[]}var u=n(559);e.exports=r},589:function(e,t,n){function r(e){return null==e?"":u(e)}var u=n(565);e.exports=r},590:function(e,t,n){function r(e){var t=++a;return u(e)+t}var u=n(589),a=0;e.exports=r}});
//# sourceMappingURL=app.js.map