webpackJsonp([1],{0:function(e,t,r){r(382),e.exports=r(581)},39:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(53),o=function(e){return function(){return e}},u={registered:{},create:function(e,t){var r=Symbol("Component("+e+")"),a=Object.assign({},t,{name:e,componentId:r,instances:[],initialState:t.initialState||function(){return{}},_afterAdd:t.afterAdd||o(),_beforeRemove:t.beforeRemove||o(),create:function(e){var n=a.initialState(e),o=t.create(e,n);return o.id=t.id||o.id,o[r]=n,o},getState:function(e){return e[r]},afterAdd:function(e){a.instances.push(e),a._afterAdd.apply(this,arguments)},beforeRemove:function(e){(0,n.remove)(a.instances,e),a._beforeRemove.apply(this,arguments)}});return u.registered[r]=u.registered[e]=a,a},get:function(e){if(!u.registered[e])throw new Error("Component "+e.toString()+" not found");return u.registered[e]}};t["default"]=u},45:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.palette=t.PORT_SEP=t.PAD=t.WALL_SIZE=t.MARBLE_RADIUS=t.GEOM_SCALE=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,u=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(53),i=t.GEOM_SCALE=1,c=(t.MARBLE_RADIUS=15*i,t.WALL_SIZE=5*i,t.PAD=1*i,t.PORT_SEP=(0,a.degrees)(45),t.palette={turquoise:1752220,green:3066993,blue:3447003,purple:10181046,black:3426654,yellow:15844367,orange:15105570,red:15158332,white:15528177,grey:9807270,darkTurquoise:1482885,darkGreen:2600544,darkBlue:2719929,darkPurple:9323693,darkBlack:2899536,darkYellow:15965202,darkOrange:13849600,darkRed:12597547,darkWhite:12436423,darkGrey:8359053});c.str=Object.entries(c).reduce(function(e,t){var r=u(t,2),a=r[0],i=r[1];return o({},e,n({},a,"#"+i.toString(16)))},{})},53:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mirror=t.toPath=t.degrees=t.remove=t.hasOwnProperty=void 0;var o=r(666),u=n(o),a=(t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.remove=function(e,t){var r=e.indexOf(t);if(r!==-1)return e.splice(r,1)[0]},t.degrees=function(e){return e*(Math.PI/180)},t.toPath=function(e){return(0,u["default"])(e,function(e){var t=e.x,r=e.y;return[t,r]})},{x:"y",y:"x"});t.mirror=function(e,t){return t.concat(t.map(function(t){var r={x:t.x,y:t.y};return r[a[e]]*=-1,r}).reverse())}},79:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(45),a=r(39),i=n(a),c=i["default"].create("Marble",{initialState:function(e){var t=e.value;return{value:t}},create:function(e){var t=e.x,r=e.y;return o.Bodies.circle(t,r,u.MARBLE_RADIUS,{force:{x:o.Common.random(-.001,.001),y:o.Common.random(-.001,.001)},friction:.1})},getValue:function(e){return c.getState(e).value},setValue:function(e,t){return c.getState(e).value=t,t},afterUpdate:function(e,t,r){var n=r.bounds,u=r.world;o.Bounds.overlaps(n,e.bounds)||o.World.remove(u,e)}});t["default"]=c},87:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(39),a=n(u),i=r(45),c=r(53),l=a["default"].create("Input.Sensor",{width:2*(i.MARBLE_RADIUS+i.PAD),height:i.WALL_SIZE,create:function(e){var t=e.x,r=e.y;return o.Bodies.rectangle(t,r+i.MARBLE_RADIUS,l.width,l.height,{isSensor:!0})},collisions:{Marble:{start:function(e,t,r){f.getState(e.parent).waiting.push(r)},end:function(e,t,r){(0,c.remove)(f.getState(e.parent).waiting,r)}}}}),f=a["default"].create("Input",{width:2*(i.MARBLE_RADIUS+i.WALL_SIZE+i.PAD),height:2*(i.WALL_SIZE+i.MARBLE_RADIUS),initialState:function(e){var t=e.rate,r=void 0===t?100:t;return{rate:r,waiting:[]}},create:function(e){var t=e.x,r=e.y,n=e.isStatic,u=e.angle,a=void 0===u?0:u,c=o.Body.create({isStatic:n,parts:[o.Bodies.rectangle(t+i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD,r,i.WALL_SIZE,f.height-i.WALL_SIZE),o.Bodies.rectangle(t-(i.MARBLE_RADIUS+i.WALL_SIZE/2+i.PAD),r,i.WALL_SIZE,f.height-i.WALL_SIZE,{render:{fillStyle:"red"}}),o.Bodies.rectangle(t,r+i.MARBLE_RADIUS+i.WALL_SIZE,f.width,i.WALL_SIZE),l.create({x:t,y:r})]});return o.Body.rotate(c,a),c},afterAdd:function(e,t,r){t.game=r,t.lastConsumed=r.engine.timing.timestamp},canConsume:function(e){var t=f.getState(e),r=t.lastConsumed,n=t.rate,o=t.waiting,u=t.game,a=u.engine.timing.timestamp;return a-r>n&&o.length},consume:function(e){var t=f.getState(e),r=t.game,n=r.world,u=r.engine,a=t.waiting.shift();return o.World.remove(n,a),t.lastConsumed=u.timing.timestamp,a}});t["default"]=f},88:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(39),a=n(u),i=r(79),c=n(i),l=r(45),f=a["default"].create("Output.Sensor",{width:2*(l.MARBLE_RADIUS+l.PAD),height:2*l.MARBLE_RADIUS,create:function(e){var t=e.x,r=e.y;return o.Bodies.rectangle(t,r,f.width,f.height,{isSensor:!0})},collisions:{Marble:{start:function(e){s.getState(e.parent).blockers+=1},end:function(e){s.getState(e.parent).blockers-=1}}}}),s=a["default"].create("Output",{width:2*(l.MARBLE_RADIUS+l.WALL_SIZE+l.PAD),height:l.WALL_SIZE+2*l.MARBLE_RADIUS,initialState:function(e){var t=e.rate,r=void 0===t?500:t;return{rate:r,blockers:0}},create:function(e){var t=e.x,r=e.y,n=e.isStatic,u=e.angle,a=void 0===u?0:u,i=o.Body.create({isStatic:n,parts:[o.Bodies.rectangle(t+l.MARBLE_RADIUS+l.WALL_SIZE/2+l.PAD,r,l.WALL_SIZE,2*l.MARBLE_RADIUS),o.Bodies.rectangle(t-(l.MARBLE_RADIUS+l.WALL_SIZE/2+l.PAD),r,l.WALL_SIZE,2*l.MARBLE_RADIUS),o.Bodies.rectangle(t,r-(l.MARBLE_RADIUS+l.WALL_SIZE/2),s.width,l.WALL_SIZE),f.create({x:t,y:r})]});return o.Body.rotate(i,a),i},afterAdd:function(e,t,r){t.game=r,t.lastProduced=r.engine.timing.timestamp},canProduce:function(e){var t=s.getState(e),r=t.lastProduced,n=t.rate,o=t.blockers,u=t.game,a=u.engine.timing.timestamp;return a-r>n&&!o},produce:function(e,t){var r=s.getState(e),n=r.game,u=n.world,a=n.engine;o.World.add(u,c["default"].create({x:e.position.x,y:e.position.y,value:t})),r.lastProduced=a.timing.timestamp}});t["default"]=s},108:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.RoundedRectangle=t.Rectangle=t.Polygon=t.Ellipse=t.Circle=t.BezierCurve=t.Arc=t.Graphics=void 0;var o=r(360);Object.defineProperty(t,"Graphics",{enumerable:!0,get:function(){return n(o)["default"]}});var u=r(29),a=r(361),i=n(a),c=r(53),l=function(e,t,r){return u.Vector.add(e,u.Vector.rotate(r,t))},f=function(e,t,r){return r.map(function(r){return l(e,t,r)})};t.Arc=(0,i["default"])("Arc",function(e,t){var r=t.cx,n=t.cy,o=t.radius,u=t.startAngle,a=t.endAngle,i=t.antiClockwise,c=t.x1,l=t.y1,f=t.x2,s=t.y2;if(null!=r&&null!=n&&null!=o&&null!=u&&null!=a)e.arc(r,n,o,u,a,i);else{if(null==c||null==f||null==l||null==s||null==o)throw new Error("Arc must be given props matching either Pixi Graphics arc or arcTo");e.arcTo(c,l,f,s,o)}}),t.BezierCurve=(0,i["default"])("BezierCurve",function(e,t){var r=t.cpX,n=t.cpY,o=t.cpX2,u=t.cpY2,a=t.toX,i=t.toY;return e.BezierCurveTo(r,n,o,u,a,i)}),t.Circle=(0,i["default"])("Circle",function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,u=void 0===o?0:o,a=t.radius;return e.drawCircle(n,u,a)}),t.Ellipse=(0,i["default"])("Ellipse",function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,u=void 0===o?0:o,a=t.width,i=t.height;return e.drawEllipse(n,u,a,i)}),t.Polygon=(0,i["default"])("Polygon",function(e,t){var r=t.path;return e.drawPolygon(r)}),t.Rectangle=(0,i["default"])("Rectangle",function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,u=void 0===o?0:o,a=t.width,i=t.height;return e.drawRectangle(n,u,a,i)}),t.RoundedRectangle=(0,i["default"])("RoundedRectangle",function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,u=void 0===o?0:o,a=t.width,i=t.height,c=t.radius;return e.drawRoundedRect(n,u,a,i,c)}),t.Arrow=(0,i["default"])("Arrow",function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,u=void 0===o?0:o,a=t.angle,i=void 0===a?0:a,l=t.width,s=t.height,d=t.depth,p=void 0===d?0:d;return e.drawPolygon((0,c.toPath)(f({x:n,y:u},i,[{x:0,y:s/2},{x:-l/2,y:-s/2},{x:0,y:-(s/2)-p},{x:l/2,y:-s/2}])))})},121:function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(638),u=r(639),a=r(640),i=r(641),c=r(642);n.prototype.clear=o,n.prototype["delete"]=u,n.prototype.get=a,n.prototype.has=i,n.prototype.set=c,e.exports=n},122:function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}var o=r(267);e.exports=n},123:function(e,t,r){function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}var o=r(635);e.exports=n},124:function(e,t,r){function n(e,t){if(o(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!u(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}var o=r(50),u=r(127),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=n},125:function(e,t,r){var n=r(75),o=n(Object,"create");e.exports=o},126:function(e,t,r){function n(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=r(127),u=1/0;e.exports=n},174:function(e,t,r){var n=r(75),o=r(59),u=n(o,"Map");e.exports=u},175:function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(643),u=r(644),a=r(645),i=r(646),c=r(647);n.prototype.clear=o,n.prototype["delete"]=u,n.prototype.get=a,n.prototype.has=i,n.prototype.set=c,e.exports=n},176:function(e,t,r){var n=r(59),o=n.Symbol;e.exports=o},221:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addMachine=void 0;var u=r(678),a=o(u),i=r(222),c=n(i);t.addMachine=function(e,t,r,n){return{type:c.MACHINES.ADD,machineType:e,id:(0,a["default"])(e),x:t,y:r,props:n}}},222:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MACHINES={ADD:"MACHINES:ADD"}},255:function(e,t,r){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=r(121),u=r(659),a=r(660),i=r(661),c=r(662),l=r(663);n.prototype.clear=u,n.prototype["delete"]=a,n.prototype.get=i,n.prototype.has=c,n.prototype.set=l,e.exports=n},256:function(e,t,r){function n(e,t,r,a,i){var c=-1,l=e.length;for(r||(r=u),i||(i=[]);++c<l;){var f=e[c];t>0&&r(f)?t>1?n(f,t-1,r,a,i):o(i,f):a||(i[i.length]=f)}return i}var o=r(595),u=r(634);e.exports=n},257:function(e,t,r){function n(e,t){t=u(t,e)?[t]:o(t);for(var r=0,n=t.length;null!=e&&r<n;)e=e[a(t[r++])];return r&&r==n?e:void 0}var o=r(259),u=r(124),a=r(126);e.exports=n},258:function(e,t,r){function n(e,t,r,i,c){return e===t||(null==e||null==t||!u(e)&&!a(t)?e!==e&&t!==t:o(e,t,n,r,i,c))}var o=r(602),u=r(95),a=r(96);e.exports=n},259:function(e,t,r){function n(e){return o(e)?e:u(e)}var o=r(50),u=r(664);e.exports=n},260:function(e,t,r){function n(e,t,r,n,l,f){var s=l&c,d=e.length,p=t.length;if(d!=p&&!(s&&p>d))return!1;var v=f.get(e);if(v&&f.get(t))return v==t;var h=-1,y=!0,_=l&i?new o:void 0;for(f.set(e,t),f.set(t,e);++h<d;){var b=e[h],g=t[h];if(n)var m=s?n(g,b,h,t,e,f):n(b,g,h,e,t,f);if(void 0!==m){if(m)continue;y=!1;break}if(_){if(!u(t,function(e,t){if(!a(_,t)&&(b===e||r(b,e,n,l,f)))return _.push(t)})){y=!1;break}}else if(b!==g&&!r(b,g,n,l,f)){y=!1;break}}return f["delete"](e),f["delete"](t),y}var o=r(588),u=r(596),a=r(618),i=1,c=2;e.exports=n},263:function(e,t,r){function n(e){return e===e&&!o(e)}var o=r(95);e.exports=n},264:function(e,t){function r(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}e.exports=r},267:function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},271:function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(616);e.exports=n},357:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(17),l=n(c),f=r(359),s=n(f),d=r(371),p=n(d),v=r(370),h=n(v),y=function(e){function t(){var e,r,n,a;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.updateSize=function(){var e=window.innerWidth,t=window.innerHeight,r=Math.max(Math.round(.2*e),200),o=e-r;n.setState({width:e,height:t,controlsWidth:r,gameWidth:o}),n.props.game.setSize(o,t)},a=r,u(n,a)}return a(t,e),i(t,[{key:"getChildContext",value:function(){return{game:this.props.game}}},{key:"componentWillMount",value:function(){this.updateSize(),window.addEventListener("resize",this.updateSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSize)}},{key:"render",value:function(){var e=this.props,t=e.game,r=e.debug,n=this.state,o=n.controlsWidth,u=n.gameWidth,a=n.height;return l["default"].createElement("div",{className:"App"},l["default"].createElement(p["default"],{width:u,height:a}),l["default"].createElement(s["default"],{width:o}),r&&l["default"].createElement(h["default"],{engine:t.engine,width:u,height:a}))}}]),t}(l["default"].Component);y.propTypes={game:l["default"].PropTypes.object.isRequired,debug:l["default"].PropTypes.bool},y.childContextTypes={game:l["default"].PropTypes.object.isRequired},t["default"]=y},358:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function u(e){var t=e.className,r=e.block,n=o(e,["className","block"]);return c["default"].createElement("button",a({className:(0,f["default"])("Button",t,{Button_block:r})},n))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=u;var i=r(17),c=n(i),l=r(223),f=n(l);u.propTypes={className:c["default"].PropTypes.string,block:c["default"].PropTypes.bool}},359:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.width,r=e.onSourceAdd,n=e.onFilterAdd,o=e.onDestinationAdd;return a["default"].createElement("div",{className:"Controls",style:{width:t+"px"}},a["default"].createElement("h2",null,"Programarble???"),a["default"].createElement(f["default"],{block:!0,onClick:r},"Add Source"),a["default"].createElement(f["default"],{block:!0,onClick:o},"Add Destination"),a["default"].createElement(f["default"],{block:!0,onClick:n},"Add Filter"))}Object.defineProperty(t,"__esModule",{value:!0});var u=r(17),a=n(u),i=r(100),c=r(221),l=r(358),f=n(l);o.propTypes={width:a["default"].PropTypes.number.isRequired,onDestinationAdd:a["default"].PropTypes.func.isRequired,onFilterAdd:a["default"].PropTypes.func.isRequired,onSourceAdd:a["default"].PropTypes.func.isRequired};var s={onSourceAdd:function(){return(0,c.addMachine)("Source",500*Math.random(),500*Math.random())},onDestinationAdd:function(){return(0,c.addMachine)("Destination",500*Math.random(),500*Math.random())},onFilterAdd:function(){return(0,c.addMachine)("Filter",500*Math.random(),500*Math.random(),{condition:"isEven"})}};t["default"]=(0,i.connect)(null,s)(o)},360:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(17),s=n(f),d=r(145),p=n(d),v=r(63),h=!0,y=function(e){function t(){var e,r,n,o;u(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={},n.mountGraphics=function(e){e&&e.addChild(n.graphics)},o=r,a(n,o)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.graphics=new p["default"].Graphics,this.draw(this.graphics)}},{key:"draw",value:function(){var e=this;if(this.graphics.clear(),s["default"].Children.toArray(this.props.children).forEach(function(t){return t.type.draw(e.graphics,t.props)}),!this.raw()){var t=this.graphics.getBounds();this.setState({texture:this.graphics.generateTexture(),bounds:t})}}},{key:"raw",value:function(){return null!=this.props.raw?this.props.raw:h}},{key:"render",value:function(){var e=this.state,t=e.texture,r=e.bounds,n=this.props,u=n.x,a=void 0===u?0:u,i=n.y,l=void 0===i?0:i,f=(n.children,o(n,["x","y","children"]));return this.raw()?s["default"].createElement(v.DisplayObjectContainer,c({ref:this.mountGraphics,x:a,y:l},f)):s["default"].createElement(v.Sprite,c({texture:t,x:a+r.x,y:l+r.y},f))}}]),t}(s["default"].Component);y.propTypes={children:s["default"].PropTypes.node.isRequired,x:s["default"].PropTypes.number,y:s["default"].PropTypes.number,raw:s["default"].PropTypes.bool},t["default"]=y},361:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t,r){t.lineWidth=r.lineWidth||0,t.lineColor=r.lineColor||0,t.lineAlpha=null!=r.lineAlpha?r.lineAlpha:1;var n=null!=r.fill;n&&t.beginFill(r.fill,r.alpha),e(t,r),n&&t.endFill()}};t["default"]=function(e,t){var n=function(){throw new Error("Graphics."+t+" can only be used as the direct child of <Graphics />")};return n.draw=r(t),n.displayName=e,n}},362:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.x,r=e.y;return i["default"].createElement(l.Graphics,{x:t,y:r},i["default"].createElement(l.Polygon,{fill:f.palette.black,lineColor:f.palette.blue,lineWidth:2,path:p}),i["default"].createElement(l.Circle,{radius:6,fill:f.palette.red}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(17),i=o(a),c=r(108),l=n(c),f=r(45),s=r(53),d=-(f.MARBLE_RADIUS+f.WALL_SIZE/2),p=(0,s.toPath)((0,s.mirror)("y",[{x:f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,y:d},{x:f.MARBLE_RADIUS+2*f.PAD,y:d+2*f.WALL_SIZE},{x:f.MARBLE_RADIUS+2*f.PAD,y:-d}]));u.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},363:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.x,r=e.y;return i["default"].createElement(c.DisplayObjectContainer,{x:t,y:r},i["default"].createElement(p.Graphics,null,i["default"].createElement(p.Polygon,{lineColor:f.palette.purple,lineWidth:2,fill:f.palette.black,path:w}),i["default"].createElement(p.Arrow,{fill:f.palette.blue,y:-f.MARBLE_RADIUS-f.WALL_SIZE,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS}),i["default"].createElement(p.Arrow,{fill:f.palette.green,x:b,y:g,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS,angle:-(f.PORT_SEP/2)}),i["default"].createElement(p.Arrow,{fill:f.palette.red,x:-b,y:g,width:2*f.WALL_SIZE,height:f.MARBLE_RADIUS,angle:f.PORT_SEP/2})))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(17),i=o(a),c=r(63),l=r(29),f=r(45),s=r(53),d=r(108),p=n(d),v=r(88),h=o(v),y=r(87),_=o(y),b=h["default"].width/2,g=h["default"].height/2,m=0,A={x:b,y:g},x=function(e){return l.Vector.add(A,l.Vector.rotate(e,-(f.PORT_SEP/2)))},w=(0,s.toPath)((0,s.mirror)("y",[{x:m,y:f.WALL_SIZE-_["default"].height},{x:m+_["default"].width/2,y:-_["default"].height},{x:f.MARBLE_RADIUS+f.WALL_SIZE/2,y:-f.MARBLE_RADIUS},x({x:f.MARBLE_RADIUS+2*f.PAD,y:-f.MARBLE_RADIUS}),x({x:f.MARBLE_RADIUS+2*f.PAD,y:f.MARBLE_RADIUS-2*f.WALL_SIZE}),x({x:f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,y:f.MARBLE_RADIUS}),x({x:-(f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE),y:f.MARBLE_RADIUS}),x({x:-(f.MARBLE_RADIUS+2*f.PAD),y:f.MARBLE_RADIUS-2*f.WALL_SIZE}),{x:.1,y:f.MARBLE_RADIUS}]));u.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},364:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.x,r=e.y;return i["default"].createElement(l.Graphics,{x:t,y:r},i["default"].createElement(l.Polygon,{path:_,fill:f.palette.black,lineColor:f.palette.blue,lineWidth:2}),i["default"].createElement(l.Arrow,{fill:f.palette.green,height:f.MARBLE_RADIUS,width:2*f.WALL_SIZE}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(17),i=o(a),c=r(108),l=n(c),f=r(45),s=r(53),d=f.MARBLE_RADIUS,p=-(f.MARBLE_RADIUS+f.WALL_SIZE),v=f.MARBLE_RADIUS+f.PAD+f.WALL_SIZE,h=f.MARBLE_RADIUS+f.PAD,y=f.MARBLE_RADIUS-2*f.WALL_SIZE,_=(0,s.toPath)((0,s.mirror)("y",[{x:0,y:p},{x:h,y:p+f.WALL_SIZE},{x:h,y:y},{x:v,y:d}]));u.propTypes={x:i["default"].PropTypes.number.isRequired,y:i["default"].PropTypes.number.isRequired}},365:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(362);Object.defineProperty(t,"Destination",{enumerable:!0,get:function(){return n(o)["default"]}});var u=r(363);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return n(u)["default"]}});var a=r(364);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return n(a)["default"]}})},366:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.machine,r=t.get("type"),n=p[r];return n?i["default"].createElement(n,t.toObject()):i["default"].createElement(l.Text,{text:"Machine "+r+" not found"})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),i=o(a),c=r(100),l=r(63),f=r(187),s=o(f),d=r(365),p=n(d);u.propTypes={machine:s["default"].map.isRequired};var v=function(e,t){var r=t.machineId;return{machine:e.get("game").get("machinesById").get(r)}};t["default"]=(0,c.connect)(v)(u)},367:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.machines;return a["default"].createElement(c.DisplayObjectContainer,null,t.map(function(e){return a["default"].createElement(d["default"],{machineId:e,key:e})}))}Object.defineProperty(t,"__esModule",{value:!0});var u=r(17),a=n(u),i=r(100),c=r(63),l=r(187),f=n(l),s=r(366),d=n(s);o.propTypes={machines:f["default"].set.isRequired};var p=function(e){return{machines:e.get("game").get("machinesInScene")}};t["default"]=(0,i.connect)(p)(o)},368:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.x,r=e.y,n=e.angle,o=e.value;return a["default"].createElement(i.DisplayObjectContainer,{rotation:n,x:t,y:r},a["default"].createElement(l.Graphics,null,a["default"].createElement(l.Circle,{x:0,y:0,radius:f.MARBLE_RADIUS,lineColor:f.palette.darkWhite,lineWidth:2})),a["default"].createElement(i.Text,{text:o,style:s,anchor:d}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(17),a=n(u),i=r(63),c=r(145),l=r(108),f=r(45),s={fill:f.palette.str.darkWhite,fontFamily:"'Source Sans Pro'",fontSize:"14px",fontWeight:"200",font:"14px 'Source Sans Pro'"},d=new c.Point(.5,.5);o.propTypes={angle:a["default"].PropTypes.number.isRequired,x:a["default"].PropTypes.number.isRequired,y:a["default"].PropTypes.number.isRequired,value:a["default"].PropTypes.any.isRequired}},369:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(17),l=n(c),f=r(63),s=r(368),d=n(s),p=r(79),v=n(p),h=function(e){function t(){var e,r,n,a;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.loop=function(){n.frameRequestId=window.requestAnimationFrame(n.loop),n.forceUpdate()},a=r,u(n,a)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.loop()}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frameRequestId)}},{key:"render",value:function(){var e=this.context.game.marbles;return l["default"].createElement(f.DisplayObjectContainer,null,e.map(function(e){var t=e.id,r=e.angle,n=e.position,o=n.x,u=n.y,a=v["default"].getValue(e);return l["default"].createElement(d["default"],{key:t,x:o,y:u,angle:r,value:a})}))}}]),t}(l["default"].Component);h.contextTypes={game:l["default"].PropTypes.object.isRequired},t["default"]=h},370:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(17),l=n(c),f=r(29),s=function(e){function t(){var e,r,n,a;o(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.attachRenderer=function(e){var t=n.props,r=t.width,o=t.height,u=t.engine;n.renderer=f.Render.create({engine:u,element:e,options:{width:r,height:o,wireframeBackground:"transparent"}}),f.Render.run(n.renderer)},a=r,u(n,a)}return a(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.renderer&&f.Render.stop(this.renderer)}},{key:"render",value:function(){return l["default"].createElement("div",{className:"MatterDebug",ref:this.attachRenderer})}}]),t}(l["default"].Component);s.propTypes={width:l["default"].PropTypes.number.isRequired,height:l["default"].PropTypes.number.isRequired,engine:l["default"].PropTypes.object.isRequired},t["default"]=s},371:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.width,r=e.height;return a["default"].createElement("div",{className:"Renderer"},a["default"].createElement(i.Stage,{backgroundcolor:d.palette.black,width:t,height:r,antialias:!0},a["default"].createElement(s["default"],null),a["default"].createElement(l["default"],null)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(17),a=n(u),i=r(63),c=r(367),l=n(c),f=r(369),s=n(f),d=r(45);o.propTypes={width:a["default"].PropTypes.number.isRequired,height:a["default"].PropTypes.number.isRequired}},372:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(39),a=n(u),i=r(88),c=n(i),l=r(87),f=n(l),s=r(79),d=n(s),p=a["default"].create("Clone",{initialState:function(e){var t=e.x,r=e.y,n=e.rate;return{input:f["default"].create({x:t,y:r-f["default"].height/2,isStatic:!0,rate:n}),rightOutput:c["default"].create({x:t+c["default"].width/2,y:r+c["default"].height/2,isStatic:!0,rate:n}),leftOutput:c["default"].create({x:t-c["default"].width/2,y:r+c["default"].height/2,isStatic:!0,rate:n})}},create:function(e,t){var r=(e.x,e.y,t.input),n=t.rightOutput,u=t.leftOutput;return o.Composite.create({bodies:[r,n,u]})},beforeUpdate:function(e,t){var r=t.input,n=t.leftOutput,o=t.rightOutput;if(f["default"].canConsume(r)&&c["default"].canProduce(n)&&c["default"].canProduce(o)){var u=d["default"].getValue(f["default"].consume(r));c["default"].produce(n,u),c["default"].produce(o,u)}}});t["default"]=p},373:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(39),a=n(u),i=r(88),c=n(i),l=r(87),f=n(l),s=r(79),d=n(s),p=a["default"].create("Combine",{initialState:function(e){var t=e.x,r=e.y,n=e.rate,o=e.combine;return{combine:o,rightInput:f["default"].create({x:t+f["default"].width/2,y:r-f["default"].height/2,isStatic:!0,rate:n}),leftInput:f["default"].create({x:t-f["default"].width/2,
y:r-f["default"].height/2,isStatic:!0,rate:n}),output:c["default"].create({x:t,y:r+c["default"].height/2,isStatic:!0,rate:n})}},create:function(e,t){var r=(e.x,e.y,t.leftInput),n=t.rightInput,u=t.output;return o.Composite.create({bodies:[n,r,u]})},beforeUpdate:function(e,t){var r=t.rightInput,n=t.leftInput,o=t.output,u=t.combine;if(f["default"].canConsume(n)&&f["default"].canConsume(r)&&c["default"].canProduce(o)){var a=d["default"].getValue(f["default"].consume(n)),i=d["default"].getValue(f["default"].consume(r));c["default"].produce(o,u(a,i))}}});t["default"]=p},374:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(39),u=n(o),a=r(87),i=n(a),c=u["default"].create("Destination",{initialState:function(e){var t=e.x,r=e.y,n=e.rate;return{input:i["default"].create({x:t,y:r,rate:n,isStatic:!0})}},create:function(e,t){var r=t.input;return r},beforeUpdate:function(e){i["default"].canConsume(e)&&i["default"].consume(e)}});t["default"]=c},375:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(29),a=r(39),i=o(a),c=r(88),l=o(c),f=r(87),s=o(f),d=r(79),p=o(d),v=r(45),h=r(383),y=n(h),_=i["default"].create("Filter",{initialState:function(e){var t=e.x,r=e.y,n=e.condition,o=e.rate;return{condition:n,input:s["default"].create({x:t,y:r-s["default"].height/2,isStatic:!0,rate:o}),rightOutput:l["default"].create({x:t+l["default"].width/2,y:r+l["default"].height/2,angle:-(v.PORT_SEP/2),isStatic:!0,rate:o}),leftOutput:l["default"].create({x:t-l["default"].width/2,y:r+l["default"].height/2,angle:v.PORT_SEP/2,isStatic:!0,rate:o})}},create:function(e,t){var r=(e.x,e.y,t.input),n=t.rightOutput,o=t.leftOutput;return u.Composite.create({bodies:[r,n,o]})},beforeUpdate:function(e,t){var r=t.input,n=t.leftOutput,o=t.rightOutput,u=t.condition;if(s["default"].canConsume(r)&&l["default"].canProduce(n)&&l["default"].canProduce(o)){var a=p["default"].getValue(s["default"].consume(r)),i=y[u];l["default"].produce(i(a)?o:n,a)}}});t["default"]=_},376:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(39),u=n(o),a=r(88),i=n(a),c=r(378),l=n(c),f=u["default"].create("Source",{initialState:function(e){var t=e.x,r=e.y,n=e.sequence,o=void 0===n?new l["default"]:n,u=e.rate;return{output:i["default"].create({x:t,y:r,rate:u,isStatic:!0}),sequence:o}},create:function(e,t){var r=t.output;return r},beforeUpdate:function(e,t){var r=t.sequence;i["default"].canProduce(e)&&i["default"].produce(e,r.next())}});t["default"]=f},377:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(372);Object.defineProperty(t,"Clone",{enumerable:!0,get:function(){return n(o)["default"]}});var u=r(373);Object.defineProperty(t,"Combine",{enumerable:!0,get:function(){return n(u)["default"]}});var a=r(374);Object.defineProperty(t,"Destination",{enumerable:!0,get:function(){return n(a)["default"]}});var i=r(375);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return n(i)["default"]}});var c=r(376);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return n(c)["default"]}})},378:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.min,o=void 0===n?0:n,u=t.max,a=void 0===u?1/0:u,i=t.step,c=void 0===i?1:i;r(this,e),this.nextValue=o,this.max=a,this.step=c}return n(e,[{key:"next",value:function(){var e=this.nextValue;return this.nextValue+=this.step,e}}]),e}();t["default"]=o},379:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,u=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=r(29),i=r(667),c=n(i),l=r(39),f=n(l),s=r(53),d=function(e,t){return function(r){return u(r[e])===t}},p=function(e,t){console.group("Setup events: "+e),0===t.length&&console.log("none"),t.forEach(function(e){return Array.isArray(e)?console.log(e[0].toString(),"ðŸ’¥",e[1].toString()):console.log(e.componentId.toString())}),console.groupEnd()},v={start:"collisionStart",end:"collisionEnd"};t["default"]=function(e,t){var r=Object.values(t),n=function(t){var n=r.filter(d(t,"function")),o=function u(r){n.forEach(function(n){return(0,s.hasOwnProperty)(r,n.componentId)&&n[t](r,n.getState(r),e)}),"composite"===r.type&&a.Composite.allBodies(r).forEach(u)};p(t,n),a.Events.on(e.world,t,function(e){return Array.isArray(e.object)?e.object.forEach(o):o(e.object)})},u=function(t){var n=r.filter(d(t,"function"));p(t,n),a.Events.on(e.engine,t,function(){return n.forEach(function(r){return r.instances.forEach(function(n){return r[t](n,r.getState(n),e)})})})},i=function(t,r,n,o,u){var a=f["default"].registered[r],i=f["default"].registered[o],c=a.getState(n);a.collisions[i.name][t](n,c,u,e)},l=function(t){var n=v[t],u=(0,c["default"])(r.filter(d("collisions","object")).map(function(e){return Object.keys(e.collisions).filter(function(r){return d(t,"function")(e.collisions[r])}).map(function(t){return[e.componentId,f["default"].get(t).componentId]})}));p(n,u),a.Events.on(e.engine,n,function(e){return e.pairs.forEach(function(e){return u.forEach(function(r){var n=o(r,2),u=n[0],a=n[1];(0,s.hasOwnProperty)(e.bodyA,u)&&(0,s.hasOwnProperty)(e.bodyB,a)?i(t,u,e.bodyA,a,e.bodyB,e):(0,s.hasOwnProperty)(e.bodyB,u)&&(0,s.hasOwnProperty)(e.bodyA,a)&&i(t,u,e.bodyB,a,e.bodyA,e)})})})};n("beforeAdd"),n("afterAdd"),n("beforeRemove"),n("afterRemove"),l("start"),l("end"),u("beforeUpdate"),u("afterUpdate")}},380:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),u=r(39),a=n(u),i=r(79),c=n(i),l=r(379),f=n(l),s=r(381),d=n(s);t["default"]=function(e){var t=o.Engine.create(),r=t.world,n={engine:t,world:r,marbles:c["default"].instances,bounds:{min:{x:0,y:0},max:{x:1/0,y:1/0}},setSize:function(e,t){n.bounds.max.x=e,n.bounds.max.y=t}};return(0,f["default"])(n,a["default"].registered),(0,d["default"])(n,e),o.Engine.run(t),window.game=n,n}},381:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(29),a=r(93),i=o(a),c=r(377),l=n(c);t["default"]=function(e,t){var r=e.engine,n=e.world,o={},a=i["default"].Set();u.Events.on(r,"beforeUpdate",function(){var e=t.getState().get("game"),r=e.get("machinesById"),i=e.get("machinesInScene");if(!i.equals(a)){var c=i.subtract(a).map(function(e){var t=r.get(e).toObject(),n=l[t.type];if(!n)throw new Error("Unknown machine type "+t.type);var u=n.create(t);return o[e]=u,u}).toArray();c.length&&u.World.add(n,c);var f=a.subtract(i).map(function(e){var t=o[e];if(!t)throw new Error("Unknown instance "+e);return o[e]=void 0,e}).toArray();f.length&&u.World.remove(n,f)}a=i})}},382:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(17),u=n(o),a=r(280),i=r(100),c=r(357),l=n(c),f=r(385),s=n(f),d=r(221),p=r(380),v=n(p),h=(0,v["default"])(s["default"]);(0,a.render)(u["default"].createElement(i.Provider,{store:s["default"]},u["default"].createElement(l["default"],{game:h})),document.getElementById("content")),s["default"].dispatch((0,d.addMachine)("Source",100,100)),s["default"].dispatch((0,d.addMachine)("Filter",100,200,{condition:"isEven"})),s["default"].dispatch((0,d.addMachine)("Destination",65,320))},383:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isEven=function(e){return e%2===0},t.isOdd=function(e){return e%2===1}},384:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(93),i=n(a),c=r(222),l=i["default"].Map({machinesById:i["default"].Map(),machinesInScene:i["default"].Set()}),f=o({},c.MACHINES.ADD,function(e,t){var r=t.machineType,n=t.id,o=t.x,a=t.y,c=t.props;return e.setIn(["machinesById",n],i["default"].Map(u({type:r,id:n,x:o,y:a},c))).update("machinesInScene",function(e){return e.add(n)})});t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?l:arguments[0],t=arguments[1];return f[t.type]?f[t.type](e,t):e}},385:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(210),u=r(93),a=n(u),i=r(312),c=n(i),l=r(384),f=n(l),s=a["default"].Map(),d=function(){var e=arguments.length<=0||void 0===arguments[0]?s:arguments[0],t=arguments[1];return e.update("game",function(e){return(0,f["default"])(e,t)})},p=(0,o.createStore)(d,s,(0,o.compose)((0,o.applyMiddleware)(c["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e}));t["default"]=p},581:function(e,t,r){e.exports=r.p+"style.css"},584:function(e,t,r){var n=r(75),o=r(59),u=n(o,"DataView");e.exports=u},585:function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(629),u=r(630),a=r(631),i=r(632),c=r(633);n.prototype.clear=o,n.prototype["delete"]=u,n.prototype.get=a,n.prototype.has=i,n.prototype.set=c,e.exports=n},586:function(e,t,r){var n=r(75),o=r(59),u=n(o,"Promise");e.exports=u},587:function(e,t,r){var n=r(75),o=r(59),u=n(o,"Set");e.exports=u},588:function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.__data__=new o;++t<r;)this.add(e[t])}var o=r(175),u=r(654),a=r(655);n.prototype.add=n.prototype.push=u,n.prototype.has=a,e.exports=n},589:function(e,t,r){var n=r(59),o=n.Uint8Array;e.exports=o},590:function(e,t,r){var n=r(75),o=r(59),u=n(o,"WeakMap");e.exports=u},594:function(e,t){function r(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},595:function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},596:function(e,t){function r(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},597:function(e,t,r){var n=r(599),o=r(620),u=o(n);e.exports=u},598:function(e,t,r){var n=r(621),o=n();e.exports=o},599:function(e,t,r){function n(e,t){return e&&o(e,t,u)}var o=r(598),u=r(128);e.exports=n},600:function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},601:function(e,t){function r(e,t){return null!=e&&t in Object(e)}e.exports=r},602:function(e,t,r){function n(e,t,r,n,h,_){var b=l(e),g=l(t),m=p,A=p;b||(m=c(e),m=m==d?v:m),g||(A=c(t),A=A==d?v:A);var x=m==v,w=A==v,S=m==A;if(S&&!x)return _||(_=new o),b||f(e)?u(e,t,r,n,h,_):a(e,t,m,r,n,h,_);if(!(h&s)){var E=x&&y.call(e,"__wrapped__"),P=w&&y.call(t,"__wrapped__");if(E||P){var O=E?e.value():e,j=P?t.value():t;return _||(_=new o),r(O,j,n,h,_)}}return!!S&&(_||(_=new o),i(e,t,r,n,h,_))}var o=r(255),u=r(260),a=r(622),i=r(623),c=r(626),l=r(50),f=r(671),s=2,d="[object Arguments]",p="[object Array]",v="[object Object]",h=Object.prototype,y=h.hasOwnProperty;e.exports=n},603:function(e,t,r){function n(e,t,r,n){var c=r.length,l=c,f=!n;if(null==e)return!l;for(e=Object(e);c--;){var s=r[c];if(f&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++c<l;){s=r[c];var d=s[0],p=e[d],v=s[1];if(f&&s[2]){if(void 0===p&&!(d in e))return!1}else{var h=new o;if(n)var y=n(p,v,d,e,t,h);if(!(void 0===y?u(v,p,n,a|i,h):y))return!1}}return!0}var o=r(255),u=r(258),a=1,i=2;e.exports=n},605:function(e,t,r){function n(e){return u(e)&&o(e.length)&&!!R[I.call(e)]}var o=r(179),u=r(96),a="[object Arguments]",i="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",s="[object Function]",d="[object Map]",p="[object Number]",v="[object Object]",h="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",A="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",M="[object Uint32Array]",R={};R[A]=R[x]=R[w]=R[S]=R[E]=R[P]=R[O]=R[j]=R[M]=!0,R[a]=R[i]=R[g]=R[c]=R[m]=R[l]=R[f]=R[s]=R[d]=R[p]=R[v]=R[h]=R[y]=R[_]=R[b]=!1;var L=Object.prototype,I=L.toString;e.exports=n},606:function(e,t,r){function n(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?u(e[0],e[1]):o(e):c(e)}var o=r(609),u=r(610),a=r(177),i=r(50),c=r(674);e.exports=n},608:function(e,t,r){function n(e,t){var r=-1,n=u(e)?Array(e.length):[];return o(e,function(e,o,u){n[++r]=t(e,o,u)}),n}var o=r(597),u=r(94);e.exports=n},609:function(e,t,r){function n(e){var t=u(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||o(r,e,t)}}var o=r(603),u=r(624),a=r(264);e.exports=n},610:function(e,t,r){function n(e,t){return i(e)&&c(t)?l(f(e),t):function(r){var n=u(r,e);return void 0===n&&n===t?a(r,e):o(t,n,void 0,s|d)}}var o=r(258),u=r(668),a=r(669),i=r(124),c=r(263),l=r(264),f=r(126),s=1,d=2;e.exports=n},611:function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},612:function(e,t,r){function n(e){return function(t){return o(t,e)}}var o=r(257);e.exports=n},616:function(e,t,r){function n(e){if("string"==typeof e)return e;if(u(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}var o=r(176),u=r(127),a=1/0,i=o?o.prototype:void 0,c=i?i.toString:void 0;e.exports=n},617:function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},618:function(e,t){function r(e,t){return e.has(t)}e.exports=r},620:function(e,t,r){function n(e,t){return function(r,n){if(null==r)return r;if(!o(r))return e(r,n);for(var u=r.length,a=t?u:-1,i=Object(r);(t?a--:++a<u)&&n(i[a],a,i)!==!1;);return r}}var o=r(94);e.exports=n},621:function(e,t){function r(e){return function(t,r,n){for(var o=-1,u=Object(t),a=n(t),i=a.length;i--;){var c=a[e?i:++o];if(r(u[c],c,u)===!1)break}return t}}e.exports=r},622:function(e,t,r){function n(e,t,r,n,o,w,E){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!n(new u(e),new u(t)));case d:case p:case y:return a(+e,+t);case v:return e.name==t.name&&e.message==t.message;case _:case g:return e==t+"";case h:var P=c;case b:var O=w&s;if(P||(P=l),e.size!=t.size&&!O)return!1;var j=E.get(e);if(j)return j==t;w|=f,E.set(e,t);var M=i(P(e),P(t),n,o,w,E);return E["delete"](e),M;case m:if(S)return S.call(e)==S.call(t)}return!1}var o=r(176),u=r(589),a=r(267),i=r(260),c=r(648),l=r(656),f=1,s=2,d="[object Boolean]",p="[object Date]",v="[object Error]",h="[object Map]",y="[object Number]",_="[object RegExp]",b="[object Set]",g="[object String]",m="[object Symbol]",A="[object ArrayBuffer]",x="[object DataView]",w=o?o.prototype:void 0,S=w?w.valueOf:void 0;e.exports=n},623:function(e,t,r){function n(e,t,r,n,a,c){var l=a&u,f=o(e),s=f.length,d=o(t),p=d.length;if(s!=p&&!l)return!1;for(var v=s;v--;){var h=f[v];if(!(l?h in t:i.call(t,h)))return!1}var y=c.get(e);if(y&&c.get(t))return y==t;var _=!0;c.set(e,t),c.set(t,e);for(var b=l;++v<s;){h=f[v];var g=e[h],m=t[h];if(n)var A=l?n(m,g,h,t,e,c):n(g,m,h,e,t,c);if(!(void 0===A?g===m||r(g,m,n,a,c):A)){_=!1;break}b||(b="constructor"==h)}if(_&&!b){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(_=!1)}return c["delete"](e),c["delete"](t),_}var o=r(128),u=2,a=Object.prototype,i=a.hasOwnProperty;e.exports=n},624:function(e,t,r){function n(e){for(var t=u(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,o(a)]}return t}var o=r(263),u=r(128);e.exports=n},626:function(e,t,r){var n=r(584),o=r(174),u=r(586),a=r(587),i=r(590),c=r(600),l=r(266),f="[object Map]",s="[object Object]",d="[object Promise]",p="[object Set]",v="[object WeakMap]",h="[object DataView]",y=Object.prototype,_=y.toString,b=l(n),g=l(o),m=l(u),A=l(a),x=l(i),w=c;(n&&w(new n(new ArrayBuffer(1)))!=h||o&&w(new o)!=f||u&&w(u.resolve())!=d||a&&w(new a)!=p||i&&w(new i)!=v)&&(w=function(e){var t=_.call(e),r=t==s?e.constructor:void 0,n=r?l(r):void 0;if(n)switch(n){case b:return h;case g:return f;case m:return d;case A:return p;case x:return v}return t}),e.exports=w},628:function(e,t,r){function n(e,t,r){t=c(t,e)?[t]:o(t);for(var n=-1,s=t.length,d=!1;++n<s;){var p=f(t[n]);if(!(d=null!=e&&r(e,p)))break;e=e[p]}return d||++n!=s?d:(s=e?e.length:0,!!s&&l(s)&&i(p,s)&&(a(e)||u(e)))}var o=r(259),u=r(178),a=r(50),i=r(262),c=r(124),l=r(179),f=r(126);e.exports=n},629:function(e,t,r){function n(){this.__data__=o?o(null):{},this.size=0}var o=r(125);e.exports=n},630:function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},631:function(e,t,r){function n(e){var t=this.__data__;if(o){var r=t[e];return r===u?void 0:r}return i.call(t,e)?t[e]:void 0}var o=r(125),u="__lodash_hash_undefined__",a=Object.prototype,i=a.hasOwnProperty;e.exports=n},632:function(e,t,r){function n(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=r(125),u=Object.prototype,a=u.hasOwnProperty;e.exports=n},633:function(e,t,r){function n(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?u:t,this}var o=r(125),u="__lodash_hash_undefined__";e.exports=n},634:function(e,t,r){function n(e){return a(e)||u(e)||!!(i&&e&&e[i])}var o=r(176),u=r(178),a=r(50),i=o?o.isConcatSpreadable:void 0;e.exports=n},635:function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},638:function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},639:function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():a.call(t,r,1),--this.size,!0}var o=r(122),u=Array.prototype,a=u.splice;e.exports=n},640:function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}var o=r(122);e.exports=n},641:function(e,t,r){function n(e){return o(this.__data__,e)>-1}var o=r(122);e.exports=n},642:function(e,t,r){function n(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var o=r(122);e.exports=n},643:function(e,t,r){function n(){this.size=0,this.__data__={hash:new o,map:new(a||u),string:new o}}var o=r(585),u=r(121),a=r(174);e.exports=n},644:function(e,t,r){function n(e){var t=o(this,e)["delete"](e);return this.size-=t?1:0,t}var o=r(123);e.exports=n},645:function(e,t,r){function n(e){return o(this,e).get(e)}var o=r(123);e.exports=n},646:function(e,t,r){function n(e){return o(this,e).has(e)}var o=r(123);e.exports=n},647:function(e,t,r){function n(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var o=r(123);e.exports=n},648:function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=r},649:function(e,t,r){function n(e){var t=o(e,function(e){return r.size===u&&r.clear(),e}),r=t.cache;return t}var o=r(673),u=500;e.exports=n},652:function(e,t,r){(function(e){var n=r(261),o="object"==typeof t&&t&&!t.nodeType&&t,u=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=u&&u.exports===o,i=a&&n.process,c=function(){try{return i&&i.binding("util")}catch(e){}}();e.exports=c}).call(t,r(344)(e))},654:function(e,t){function r(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=r},655:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},656:function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=r},659:function(e,t,r){function n(){this.__data__=new o,this.size=0}var o=r(121);e.exports=n},660:function(e,t){function r(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}e.exports=r},661:function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},662:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},663:function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!u||n.length<i-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(e,t),this.size=r.size,this}var o=r(121),u=r(174),a=r(175),i=200;e.exports=n},664:function(e,t,r){var n=r(649),o=r(271),u=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,c=n(function(e){e=o(e);var t=[];return u.test(e)&&t.push(""),e.replace(a,function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)}),t});e.exports=c},666:function(e,t,r){function n(e,t){return o(u(e,t),1)}var o=r(256),u=r(672);e.exports=n},667:function(e,t,r){function n(e){var t=e?e.length:0;return t?o(e,1):[]}var o=r(256);e.exports=n},668:function(e,t,r){function n(e,t,r){var n=null==e?void 0:o(e,t);return void 0===n?r:n}var o=r(257);e.exports=n},669:function(e,t,r){function n(e,t){return null!=e&&u(e,t,o)}var o=r(601),u=r(628);e.exports=n},671:function(e,t,r){var n=r(605),o=r(617),u=r(652),a=u&&u.isTypedArray,i=a?o(a):n;e.exports=i},672:function(e,t,r){function n(e,t){var r=i(e)?o:a;return r(e,u(t,3))}var o=r(594),u=r(606),a=r(608),i=r(50);e.exports=n},673:function(e,t,r){function n(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(u);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var a=e.apply(this,n);return r.cache=u.set(o,a)||u,a};return r.cache=new(n.Cache||o),r}var o=r(175),u="Expected a function";n.Cache=o,e.exports=n},674:function(e,t,r){function n(e){return a(e)?o(i(e)):u(e)}var o=r(611),u=r(612),a=r(124),i=r(126);e.exports=n},678:function(e,t,r){function n(e){var t=++u;return o(e)+t}var o=r(271),u=0;e.exports=n}});
//# sourceMappingURL=app.js.map